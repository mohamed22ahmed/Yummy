import{_ as g,Q as y,m as d,p as m,q as p,s as a,f as l,S as r,a9 as f,X as b,a6 as _,a5 as v,Y as i,az as k,aX as u,a7 as q,aA as w}from"./index.4c3eb750.js";import{Q as V}from"./QToolbarTitle.eef0f00f.js";import{Q}from"./QToolbar.45531803.js";import{Q as c}from"./QSpace.5a38bd33.js";import{Q as S}from"./QSelect.ad5cccde.js";import{Q as $}from"./QBtnToggle.82d18f6d.js";import{Q as A}from"./QFooter.bd11e2a3.js";import{Q as z}from"./QForm.ce1b13be.js";import{C as D}from"./ClosePopup.d9033651.js";import"./QChip.0b7ba82a.js";import"./QItemLabel.cc035d74.js";import"./QMenu.5c5664bb.js";import"./selection.1ed6461a.js";import"./rtl.276c3f1b.js";import"./format.8ac60962.js";import"./QBtnGroup.c05cd859.js";import"./QResizeObserver.4d611c44.js";const B={name:"AddressInformation",props:["back_url"],data(){return{show_modal:!1,loading:!1,location_data:[],location_name:"",delivery_options:this.$t("Leave it at my door"),delivery_instructions:"",address_label:"Home",attributes:[],delivery_options_data:[],address_label_data:[],address1:"",formatted_address:"",latitude:"",longitude:"",place_id:""}},setup(){return{DataStore:y()}},created(){this.addressAtttibues()},methods:{show(e){this.show_modal=!0,this.address1=e.address.formatted_address,this.formatted_address=e.address.address1,this.latitude=e.latitude,this.longitude=e.longitude,this.place_id=e.place_id},addressAtttibues(){d.addressAtttibues().then(e=>{this.attributes=e.details,Object.keys(e.details.delivery_option).length>0&&Object.entries(e.details.delivery_option).forEach(([o,n])=>{this.delivery_options_data.push({label:n,value:o})}),Object.keys(e.details.address_label).length>0&&Object.entries(e.details.address_label).forEach(([o,n])=>{this.address_label_data.push({label:n,value:o})})}).catch(e=>{d.notify("dark",e,"error",this.$q)}).then(e=>{})},onSubmit(){this.loading=!0;let e="address1="+this.address1;e+="&formatted_address="+this.formatted_address,e+="&location_name="+this.location_name,e+="&delivery_instructions="+this.delivery_instructions,e+="&delivery_options="+this.delivery_options,e+="&address_label="+this.address_label,e+="&latitude="+this.latitude,e+="&longitude="+this.longitude,e+="&place_id="+this.place_id,d.fetchDataByTokenPost("SaveAddress",e).then(o=>{this.backPage()}).catch(o=>{d.notify("dark",o,"error",this.$q)}).then(o=>{this.loading=!1})},backPage(){d.empty(this.back_url)?this.$router.push("/home"):this.$router.push(this.back_url)}}},U={class:"col-12"},C={class:"q-pl-md q-pr-md"},T={class:"row items-center items-stretch"},j={class:"col-9"},P={class:"text-weight-bold"},I={class:"cursor-pointer font12 text-grey"},N={class:"q-gutter-sm"},O={class:"text-h6"},E={class:"text-h6"};function F(e,o,n,X,s,h){return m(),p(w,{modelValue:s.show_modal,"onUpdate:modelValue":o[6]||(o[6]=t=>s.show_modal=t),persistent:"",onBeforeShow:e.beforeShow,maximized:!0,"transition-show":"fade","transition-hide":"fade"},{default:a(()=>[l(q,{class:"row items-stretch"},{default:a(()=>[r("div",U,[e.adjust_pin?k("",!0):(m(),p(Q,{key:0},{default:a(()=>[f(l(b,{icon:"close",flat:"",round:"",dense:"",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),[[D]]),l(V,{class:_(["text-weight-bold",{"text-white":e.$q.dark.mode,"text-dark":!e.$q.dark.mode}])},{default:a(()=>[v(i(e.$t("Delivery details")),1)]),_:1},8,["class"])]),_:1})),r("div",C,[r("div",T,[r("div",j,[r("div",P,i(s.formatted_address),1),r("div",I,i(s.address1),1)])]),l(c,{class:"q-pa-sm"}),l(z,{onSubmit:h.onSubmit},{default:a(()=>[r("div",N,[l(u,{modelValue:s.address1,"onUpdate:modelValue":o[0]||(o[0]=t=>s.address1=t),label:e.$t("Street name"),outlined:"","lazy-rules":"","bg-color":e.$q.dark.mode?"grey600":"input","label-color":e.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","label","bg-color","label-color"]),l(u,{modelValue:s.formatted_address,"onUpdate:modelValue":o[1]||(o[1]=t=>s.formatted_address=t),label:e.$t("Street number"),outlined:"","lazy-rules":"","bg-color":e.$q.dark.mode?"grey600":"input","label-color":e.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","label","bg-color","label-color"]),l(u,{modelValue:s.location_name,"onUpdate:modelValue":o[2]||(o[2]=t=>s.location_name=t),label:e.$t("Aparment, suite or floor"),outlined:"","lazy-rules":"","bg-color":e.$q.dark.mode?"grey600":"input","label-color":e.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","label","bg-color","label-color"]),r("div",O,i(e.$t("Delivery options")),1),l(S,{modelValue:s.delivery_options,"onUpdate:modelValue":o[3]||(o[3]=t=>s.delivery_options=t),options:s.delivery_options_data,"transition-show":"fade","transition-hide":"fade","emit-value":"",outlined:"","lazy-rules":"","bg-color":e.$q.dark.mode?"grey600":"input","label-color":e.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","options","bg-color","label-color"]),l(u,{modelValue:s.delivery_instructions,"onUpdate:modelValue":o[4]||(o[4]=t=>s.delivery_instructions=t),autogrow:"",label:e.$t("Add delivery instructions"),outlined:"","lazy-rules":"","bg-color":e.$q.dark.mode?"grey600":"input","label-color":e.$q.dark.mode?"grey300":"grey",borderless:"",class:"input-borderless"},null,8,["modelValue","label","bg-color","label-color"]),r("div",E,i(e.$t("Address label")),1),l($,{modelValue:s.address_label,"onUpdate:modelValue":o[5]||(o[5]=t=>s.address_label=t),"toggle-color":"secondary",color:e.$q.dark.mode?"grey600":"mygrey","text-color":e.$q.dark.mode?"grey300":"dark","no-caps":"","no-wrap":"",unelevated:"",options:s.address_label_data,class:"rounded-group2 text-weight-bold line-1"},null,8,["modelValue","color","text-color","options"]),l(c,{class:"q-pa-xl"}),l(A,{class:"q-pl-md q-pr-md q-pt-sm q-pb-sm bg-white"},{default:a(()=>[l(b,{type:"submit",loading:s.loading,label:e.$t("Save"),unelevated:"","no-caps":"",color:"primary text-white",class:"full-width text-weight-bold",size:"lg"},null,8,["loading","label"])]),_:1})])]),_:1},8,["onSubmit"])])])]),_:1})]),_:1},8,["modelValue","onBeforeShow"])}var ae=g(B,[["render",F]]);export{ae as default};
