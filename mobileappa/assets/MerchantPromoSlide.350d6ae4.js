import{Q as p}from"./QSkeleton.d3c12595.js";import{_ as P,n as S,p as r,U as n,f as t,F as _,q as f,s as d,V as k,S as o,X as u,Y as c,az as g,a7 as q,a8 as b,aA as C}from"./index.4c3eb750.js";import{S as V,a as Q}from"./swiper-slide.172c9bc8.js";/* empty css                   */import{u as B}from"./PromoStore.17dab00f.js";const z={name:"MerchantPromoSlide",props:["merchant_id"],components:{Swiper:V,SwiperSlide:Q},setup(){return{PromoStore:B()}},data(){return{modal:!1,selected_index:0}},created(){this.PromoStore.loadPromo(this.merchant_id)},methods:{showDetails(e){this.selected_index=e,this.modal=!0},refresh(){this.PromoStore.loadPromo(this.merchant_id)}}},D={key:0,class:"row q-gutter-sm q-mb-sm"},N={class:"row fit items-center"},U={class:"col-2"},F={class:"col text-left"},M={class:"text-weight-bold no-margin line-normal ellipsis"},A={class:"text-grey ellipsis"},E={key:0,class:"row items-center q-gutter-sm q-mb-sm q-pb-sm border-bottom"},L={class:"text-weight-bold"},X={class:"text-weight-medium font12"},Y={class:"text-grey font13"};function j(e,m,a,s,l,v){const w=S("swiper-slide"),y=S("swiper");return r(),n(_,null,[s.PromoStore.loading?(r(),n("div",D,[t(p,{height:"50px",square:"",class:"col-6 radius8"}),t(p,{height:"50px",square:"",class:"col-5 radius8"})])):(r(),n(_,{key:1},[s.PromoStore.data[a.merchant_id]?(r(),f(y,{key:0,"slides-per-view":1.3,"space-between":10,onSwiper:e.onSwiper,onSlideChange:e.onSlideChange,class:"q-mb-md"},{default:d(()=>[(r(!0),n(_,null,k(s.PromoStore.data[a.merchant_id],(i,x)=>(r(),f(w,{key:i,class:"row"},{default:d(()=>[t(u,{modelValue:e.category,"onUpdate:modelValue":m[0]||(m[0]=h=>e.category=h),unelevated:"","no-caps":"",color:e.$q.dark.mode?"grey600":"mygrey","text-color":e.$q.dark.mode?"grey300":"dark",class:"radius8 fit q-pa-sm",size:"sm",onClick:h=>v.showDetails(x)},{default:d(()=>[o("div",N,[o("div",U,[t(u,{round:"",color:"secondary",icon:i.promo_type=="voucher"?"local_offer":"las la-percent",unelevated:"",size:"xs",class:"radius8"},null,8,["icon"])]),o("div",F,[o("div",M,c(i.title),1),o("div",A,c(i.valid_to),1)])])]),_:2},1032,["modelValue","color","text-color","onClick"])]),_:2},1024))),128))]),_:1},8,["slides-per-view","onSwiper","onSlideChange"])):g("",!0)],64)),t(C,{modelValue:l.modal,"onUpdate:modelValue":m[1]||(m[1]=i=>l.modal=i),position:"bottom"},{default:d(()=>[t(q,null,{default:d(()=>[t(b,{class:"q-pl-md"},{default:d(()=>[s.PromoStore.data[a.merchant_id][l.selected_index]?(r(),n("div",E,[t(u,{round:"",color:"secondary",icon:"las la-percent",unelevated:"",size:"xs",class:"radius8"}),o("div",null,[o("div",L,c(s.PromoStore.data[a.merchant_id][l.selected_index].title),1),o("div",X,c(s.PromoStore.data[a.merchant_id][l.selected_index].sub_title),1)])])):g("",!0),o("div",Y,c(s.PromoStore.data[a.merchant_id][l.selected_index].valid_to),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var O=P(z,[["render",j]]);export{O as default};
