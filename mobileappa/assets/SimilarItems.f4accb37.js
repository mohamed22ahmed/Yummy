import{_ as M,l as C,t as w,r as i,Q as q,o as V,n as h,p as a,U as n,F as c,f as r,S as o,Y as f,s as A,V as Q,q as B,X as E,a5 as b,az as D,m as v}from"./index.4c3eb750.js";import{Q as y}from"./QSkeleton.d3c12595.js";import{Q as N}from"./QImg.721b5b7a.js";import{u as P}from"./CartStore.dad0748d.js";import{u as z}from"./MenuStore.2dc15d9c.js";import{S as L,a as O}from"./swiper-slide.172c9bc8.js";/* empty css                   */const T={name:"SimilarItems",props:["title","bg","merchant_id"],components:{Swiper:L,SwiperSlide:O,ItemDetails:C(()=>w(()=>import("./ItemDetails.e131f4a9.js"),["assets/ItemDetails.e131f4a9.js","assets/index.4c3eb750.js","assets/index.4784a50d.css","assets/QCircularProgress.ba57a6e8.js","assets/format.8ac60962.js","assets/QImg.721b5b7a.js","assets/QChip.0b7ba82a.js","assets/QBtnToggle.82d18f6d.js","assets/QBtnGroup.c05cd859.js","assets/QSelect.ad5cccde.js","assets/QItemLabel.cc035d74.js","assets/QMenu.5c5664bb.js","assets/selection.1ed6461a.js","assets/rtl.276c3f1b.js","assets/QSpace.5a38bd33.js","assets/CartStore.dad0748d.js","assets/FavoriteStore.7d9575ef.js","assets/DeliverySched.57b613f9.js"])),ItemDetailsCheckbox:C(()=>w(()=>import("./ItemDetailsCheckbox.cc4204d6.js"),["assets/ItemDetailsCheckbox.cc4204d6.js","assets/index.4c3eb750.js","assets/index.4784a50d.css","assets/QCircularProgress.ba57a6e8.js","assets/format.8ac60962.js","assets/QImg.721b5b7a.js","assets/QItemLabel.cc035d74.js","assets/QList.5b181e45.js","assets/QSelect.ad5cccde.js","assets/QChip.0b7ba82a.js","assets/QMenu.5c5664bb.js","assets/selection.1ed6461a.js","assets/rtl.276c3f1b.js","assets/QSpace.5a38bd33.js","assets/QBtnGroup.c05cd859.js","assets/ClosePopup.d9033651.js","assets/CartStore.dad0748d.js","assets/FavoriteStore.7d9575ef.js","assets/DeliverySched.57b613f9.js"]))},setup(d){const S=i(0),l=i(!1),t=i([]),k=i(2),p=i([]),_=i(null),u=i(null),g=i(["items","subtotal","distance_local","items_count","merchant_info","check_opening","transaction_info"]),m=P(),e=z(),I=q();return V(()=>{Object.keys(e.data_similar_items).length<=0?e.getSimilarItems(d.merchant_id):e.data_similar_items[d.merchant_id]||e.getSimilarItems(d.merchant_id)}),{slide:S,loading:l,data:t,getSimilarItems:()=>{l.value=!0,v.SimilarItems(v.getStorage("cart_uuid"),k.value).then(s=>{t.value=s.details}).catch(s=>{console.debug(s)}).then(s=>{l.value=!1})},onClickitem:s=>{const x={cat_id:s.cat_id,item_uuid:s.item_uuid};I.addons_use_checkbox?u.value.showItem2(x,m.cart_merchant.slug):_.value.showItem2(x,m.cart_merchant.slug)},getMoneyConfig:()=>{v.getMoneyConfig().then(s=>{p.value=s.details}).catch(s=>{}).then(s=>{})},moneyConfig:p,CartStore:m,afterAdditems:s=>{m.getCart(!1,g.value)},refItem:_,refItem2:u,MenuStore:e}}},F={class:"row q-gutter-sm"},R={class:"col-9"},j={class:"col-2"},U={class:"text-h6 text-weight-boldx q-mb-xs"},X=["onClick"],Y={class:"relative-position"},G={class:"absolute-bottom-right q-pa-sm"},H={class:"q-pt-sm"},J={key:0,class:"text-weight-bold text-h5"},K={class:"line-normal text-body2"},W=o("div",{class:"q-pa-sm"},null,-1);function Z(d,S,l,t,k,p){const _=h("swiper-slide"),u=h("swiper"),g=h("ItemDetails"),m=h("ItemDetailsCheckbox");return a(),n(c,null,[t.MenuStore.loading_similar_items?(a(),n(c,{key:0},[r(y,{type:"text",style:{width:"80px"}}),o("div",F,[o("div",R,[r(y,{height:"60px",square:"",class:"radius8"})]),o("div",j,[r(y,{height:"60px",square:"",class:"radius8"})])])],64)):(a(),n(c,{key:1},[o("div",U,f(l.title),1),r(u,{"slides-per-view":2.5,"space-between":10},{default:A(()=>[(a(!0),n(c,null,Q(t.MenuStore.data_similar_items[l.merchant_id],e=>(a(),B(_,{key:e},{default:A(()=>[o("div",{class:"font12 cursor-pointer",onClick:I=>t.onClickitem(e)},[o("div",Y,[r(N,{src:e.url_image,style:{"max-width":"100%",height:"100px"},"spinner-color":"primary","spinner-size":"sm","placeholder-src":"placeholder.png",class:"radius10"},null,8,["src"]),o("div",G,[r(E,{round:"",color:"dark",icon:"add",unelevated:"",size:"sm"})])]),o("div",H,[e.price?(a(),n("div",J,[e.price[0]?(a(),n(c,{key:0},[e.price[0].discount>0?(a(),n(c,{key:0},[b(f(e.price[0].pretty_price_after_discount),1)],64)):(a(),n(c,{key:1},[b(f(e.price[0].pretty_price),1)],64))],64)):D("",!0)])):D("",!0),o("div",K,f(e.item_name),1)])],8,X)]),_:2},1024))),128))]),_:1},8,["slides-per-view"])],64)),r(g,{ref:"refItem",slug:t.CartStore.cart_merchant.slug,money_config:t.MenuStore.money_config,onAfterAdditems:t.afterAdditems},null,8,["slug","money_config","onAfterAdditems"]),r(m,{ref:"refItem2",slug:t.CartStore.cart_merchant.slug,money_config:t.MenuStore.money_config,onAfterAdditems:t.afterAdditems},null,8,["slug","money_config","onAfterAdditems"]),W],64)}var me=M(T,[["render",Z]]);export{me as default};
