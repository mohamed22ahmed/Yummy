import{Q as w}from"./QToolbarTitle.eef0f00f.js";import{Q}from"./QSpace.5a38bd33.js";import{_ as S,m,av as y,p as r,q as i,s as a,f as e,a6 as C,a5 as n,Y as d,X as h,a8 as k,U as v,V as b,ab as V,aE as q,ac as c,as as g,ae as x,F as I,S as A,a7 as B,aA as D}from"./index.4c3eb750.js";import{Q as L}from"./QToolbar.45531803.js";import{Q as T}from"./QInnerLoading.488297dd.js";import{Q as u}from"./QItemLabel.cc035d74.js";import{Q as z}from"./QList.5b181e45.js";import{u as N}from"./ClientStore.4828b201.js";const P={name:"ClientAddress",props:["redirect"],data(){return{show_modal:!1,loading:!1,data:[],place_id:m.getStorage("place_id")}},setup(){return{ClientStore:N()}},methods:{onShow(){y.authenticated()&&this.ClientStore.getAddress()},showModal(s){this.show_modal=s},setPlaceID(s){this.place_id=s.place_id,m.setStorage("place_data",s),m.setStorage("place_id",s.place_id),this.show_modal=!1,this.$emit("afterSetplaceid")}}};function U(s,l,E,p,o,f){return r(),i(D,{modelValue:o.show_modal,"onUpdate:modelValue":l[2]||(l[2]=t=>o.show_modal=t),position:"bottom",onShow:f.onShow},{default:a(()=>[e(B,null,{default:a(()=>[e(L,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:a(()=>[e(w,{class:C(["text-weight-bold",{"text-white":s.$q.dark.mode,"text-dark":!s.$q.dark.mode}])},{default:a(()=>[n(d(s.$t("Address")),1)]),_:1},8,["class"]),e(Q),e(h,{onClick:l[0]||(l[0]=t=>o.show_modal=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),e(k,{style:{"max-height":"50vh"},class:"scroll"},{default:a(()=>[e(T,{showing:p.ClientStore.loading,color:"primary"},null,8,["showing"]),e(z,null,{default:a(()=>[(r(!0),v(I,null,b(p.ClientStore.data,t=>(r(),i(V,{key:t,onClick:q(_=>f.setPlaceID(t),["stop"]),tag:"label"},{default:a(()=>[e(c,{avatar:"",class:"qlist-item-min2"},{default:a(()=>[e(g,{name:"las la-map-marker",color:"grey-5"})]),_:1}),e(c,null,{default:a(()=>[t.address.address1?(r(),i(u,{key:0,lines:"2"},{default:a(()=>[n(d(t.address.address1),1)]),_:2},1024)):(r(),i(u,{key:1,lines:"2"},{default:a(()=>[n(d(t.address.address2),1)]),_:2},1024)),e(u,{lines:"2",caption:"",class:"font11"},{default:a(()=>[n(d(t.address.formatted_address),1)]),_:2},1024)]),_:2},1024),e(c,{side:""},{default:a(()=>[e(x,{modelValue:o.place_id,"onUpdate:modelValue":l[1]||(l[1]=_=>o.place_id=_),val:t.place_id,color:"secondary"},null,8,["modelValue","val"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),e(h,{class:"row items-start full-width border-grey-top",unelevated:"","no-caps":"","text-color":"primary",size:"lg",to:{name:"map",query:{url:this.redirect}}},{default:a(()=>[e(g,{name:"o_add",color:"primary",class:"q-mr-md"}),A("div",null,d(s.$t("Add a new address")),1)]),_:1},8,["to"])]),_:1})]),_:1},8,["modelValue","onShow"])}var H=S(P,[["render",U]]);export{H as default};
