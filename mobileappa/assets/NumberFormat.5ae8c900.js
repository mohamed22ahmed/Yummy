var L=Object.defineProperty;var q=(e,t,i)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var h=(e,t,i)=>(q(e,typeof t!="symbol"?t+"":t,i),i);import{k as I,r as N,c as $,w as J,b_ as T,a9 as A,p as O,U as j,_ as H,Q as P,Y as Q}from"./index.4c3eb750.js";/**
 * Vue Number Format 3.34.1
 * (c) 2021-2023 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var w={prefix:"",suffix:"",separator:",",decimal:".",precision:2,minimumFractionDigits:null,prefill:!0,reverseFill:!1,min:null,max:null,nullValue:""};function U(e){return t=0,i=e,r=20,Math.max(t,Math.min(i,r));var t,i,r}class E{constructor(t){h(this,"options");h(this,"input");h(this,"number");h(this,"isClean");h(this,"preSurRegExp");h(this,"numberRegExp");h(this,"cleanRegExp");h(this,"negativeRegExp");this.options=Object.assign(_(w),t);const{prefix:i,suffix:r,decimal:l,reverseFill:u}=this.options;this.input="",this.number="",this.isClean=!u;const a=i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),n=r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&");this.preSurRegExp=new RegExp(`${a}|${n}`,"g"),this.numberRegExp=new RegExp(`[^0-9\\${l}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi")}isNull(){return!this.numberOnly(this.isClean?this.cleanRegExp:this.negativeRegExp)}clean(t=!1){return this.isClean=t,this}sign(){if(this.input===null||this.input===void 0)return"";const t=this.input.toString().indexOf("-")>=0;return this.isClean?t&&this.realNumber()>0?"-":"":t?"-":""}toFixed(){const t=Math.pow(10,this.options.precision);return(parseFloat(this.numberOnly(/\D+/g))/t||0).toFixed(U(this.options.precision))}toNumber(t){return Number(t)}numberOnly(t){var i;return(i=this.input)==null?void 0:i.toString().replace(this.preSurRegExp,"").replace(t||this.numberRegExp,"")}isNegative(){return this.sign()==="-"}numbers(){const{reverseFill:t,decimal:i}=this.options;return t?this.number=this.toFixed().replace(".",i):typeof this.input=="number"?this.number=this.parts(this.input.toString().replace("-",""),".").join(i):isNaN(this.toNumber(this.input))?this.number=this.parts(this.numberOnly()).join(i):this.number=this.parts(this.input.replace("-",""),".").join(i),this.number}unformatNumber(){return this.numbers().toString().replace(this.options.decimal,".")}realNumber(){return parseFloat(this.unformatNumber())}parts(t,i){const{precision:r,minimumFractionDigits:l,decimal:u}=this.options;let a=t.toString().split(i||u);if(a.length>1&&(a[0]=this.toNumber(a[0])||0,a[1]=a.slice(1,a.length).join(""),a=a.slice(0,2)),this.isClean){const n=this.toNumber(a.join(".")).toFixed(r),o=this.toNumber(n),s=o.toFixed(l);a=l>=0&&o.toString().length<s.length?s.toString().split("."):o.toString().split(".")}return a.slice(0,2)}addSeparator(){const{decimal:t,separator:i}=this.options,r=this.numbers().split(t);return r[0]=r[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${i}`),r.join(t)}format(t){this.input=t;const{reverseFill:i,nullValue:r,prefix:l,suffix:u}=this.options;return this.isNull()&&!i?r:this.sign()+l+this.addSeparator()+u}unformat(t){this.input=t;const{reverseFill:i,nullValue:r}=this.options,l=this.realNumber(),u=this.unformatNumber();return this.isNull()||i&&l===0?r:this.sign()+u}}const S="-";function _(e){return JSON.parse(JSON.stringify(e))}function F(e){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function y(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("number directive requires an input element");return t}function D(e,t){const i=()=>{e.setSelectionRange(t,t)};i(),setTimeout(i,1)}function x(e,t,{emit:i=!0,force:r=!1,clean:l=!1}={}){var m;const{options:u,oldValue:a}=e,{reverseFill:n,max:o,min:s}=u,p=((m=t==null?void 0:t.props)==null?void 0:m.value)||e.value;if(r||a!==p){const d=new E(u).clean(l&&!n);let v=d.format(p),f=d.clean(!n).unformat(p);return l&&(Number(o)===o&&Number(f)>o?(v=d.format(o),f=o.toString()):Number(s)===s&&Number(f)<s&&(v=d.format(s),f=s.toString())),e.oldValue=v,e.unmasked=f,e.value!==v&&(e.value=v),i&&e.dispatchEvent(F("input"))}}var Y={beforeMount:(e,{value:t,modifiers:i},r)=>{var o;e=y(e);const l=Object.assign(_(w),t,i),{reverseFill:u,precision:a,decimal:n}=l;e.options=l,e.setAttribute("inputmode","numeric"),u&&e.value?(e.value=parseFloat(new E({...l,reverseFill:!1}).unformat(e.value)).toFixed(a),(o=r==null?void 0:r.props)!=null&&o.value&&(r.props.value=e.value)):e.value&&!isNaN(Number(e.value))&&(e.value=e.value.replace(".",n)),x(e,r,{force:l.prefill,clean:!0,emit:!1})},mounted:e=>{const t=(e=y(e)).parentElement||e,i=u=>{u.target===e&&function(a){const{target:n,detail:o}=a;if(o!=null&&o.facade)return!1;a.stopPropagation();let s=n.value.length;const{oldValue:p,options:m}=n;n.selectionEnd&&(s=n.value.length-n.selectionEnd),x(n,null,{clean:!m.precision,emit:!1}),m.suffix&&(s=Math.max(s,m.suffix.length)),s=n.value.length-s,m.prefix&&(s=Math.max(s,m.prefix.length)),D(n,s),p!==n.value&&n.dispatchEvent(F("input"))}(u)},r=u=>{u.target===e&&function(a){const{target:n}=a,{oldValue:o}=n;x(n,null,{force:!0,clean:!0,emit:!1}),o!==n.value&&n.dispatchEvent(F("input"))}(u)},l=u=>{u.target===e&&function(a,n){const{options:o}=n,{prefix:s,suffix:p,decimal:m,min:d,separator:v}=o,{key:f}=a,B=new RegExp(`${s}|${p}`,"g"),R=n.value.replace(B,""),C=d===void 0||Number(d)<0||Number(d)!==d;if(f===m)R.includes(m)?a.preventDefault():R||(n.value="0"+m,n.dispatchEvent(new Event("input")));else if(f!==S||C){if(f==="Backspace"){const b=n.selectionEnd||0,V=n.value.slice(b-1,b),M=n.value.slice(b-2,b);let g=n.value.length-b;[s,S,v].includes(V)&&(a.preventDefault(),n.value=V===v?n.value.replace(M,""):n.value.replace(new RegExp(`[${s}${S}]`,"g"),""),g=Math.max(g,p.length),g=n.value.length-g,g=Math.max(g,s.length),D(n,g),n.dispatchEvent(new Event("input")))}}else a.preventDefault()}(u,e)};t.addEventListener("input",i,!0),t.addEventListener("blur",r,!0),t.addEventListener("keydown",l,!0),e.cleanup=()=>{t.removeEventListener("input",i,!0),t.removeEventListener("blur",r,!0),t.removeEventListener("keydown",l,!0)}},updated:(e,{value:t,oldValue:i,modifiers:r},l)=>{if(e=y(e),t!==i){const u=e.options;e.options=Object.assign(u,t,r),x(e,l,{force:!0,clean:!1,emit:!1})}else x(e,l,{emit:!1})},unmounted:e=>{y(e).cleanup()}};const c=_(w);var k=I({name:"VueNumber",directives:{number:Y},props:{modelValue:{type:[String,Number],required:!0},nullValue:{type:[Number,String],default:c.nullValue},masked:Boolean,readonly:Boolean,disabled:Boolean,reverseFill:{type:Boolean,default:c.reverseFill},prefill:{type:Boolean,default:c.prefill},precision:{type:Number,default:()=>c.precision},minimumFractionDigits:{type:Number,default:()=>c.minimumFractionDigits},decimal:{type:String,default:()=>c.decimal},min:{type:Number,default:()=>c.min},max:{type:Number,default:()=>c.max},separator:{type:String,default:()=>c.separator},prefix:{type:String,default:()=>c.prefix},suffix:{type:String,default:()=>c.suffix}},emits:["update:model-value","input:model-value"],setup(e,{emit:t}){const i=N(e.modelValue),r=N(!1),l=N(""),u=$(()=>({...e})),a=new E(u.value),n=$(()=>e.masked?a.format(i.value):l.value),o=()=>{t("update:model-value",n.value)};return J(()=>e.modelValue,s=>{const p=a.format(s);p!==i.value&&(i.value=p)}),{config:u,maskedValue:i,unmaskedValue:l,input:s=>{const{target:p}=s;i.value=p.value,l.value=p.unmasked,r.value=!0,t("input:model-value",n.value)},blur:()=>{r.value&&n.value!==e.modelValue&&o()},change:o}}});const z=["value","readonly","disabled"];k.render=function(e,t,i,r,l,u){const a=T("number");return A((O(),j("input",{type:"text",autocomplete:"off",value:e.maskedValue,readonly:e.readonly,disabled:e.disabled,class:"v-number vue-number-format",onChange:t[0]||(t[0]=(...n)=>e.change&&e.change(...n)),onInput:t[1]||(t[1]=(...n)=>e.input&&e.input(...n)),onBlur:t[2]||(t[2]=(...n)=>e.blur&&e.blur(...n))},null,40,z)),[[a,e.config]])},k.__file="src/component.vue";const G={name:"NumberFormat",props:["amount","money_config"],data(){return{total:0,number:void 0}},created(){typeof this.money_config=="undefined"||this.money_config===null||this.money_config===""||this.money_config==="null"||this.money_config==="undefined"?this.number=new E(this.DataStore.money_config):this.number=new E(this.money_config),this.total=this.number.format(this.amount)},watch:{money_config(e,t){},amount(e,t){this.total=this.number.format(e)}},setup(){return{DataStore:P()}}};function K(e,t,i,r,l,u){return O(),j("span",null,Q(l.total),1)}var Z=H(G,[["render",K]]);export{Z as default};
