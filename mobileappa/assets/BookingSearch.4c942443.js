import{Q as b}from"./QToolbarTitle.eef0f00f.js";import{_ as p,m as y,p as l,U as i,q as f,s as r,a6 as h,az as d,f as t,F as _,a5 as c,Y as s,X as g,S as n,V as q,a7 as Q,a8 as v,b3 as w,ab as B}from"./index.4c3eb750.js";import{Q as S}from"./QToolbar.45531803.js";import{Q as $}from"./QHeader.d51d9950.js";import{Q as k}from"./QChip.0b7ba82a.js";import{Q as D}from"./QList.5b181e45.js";import{Q as C}from"./QInnerLoading.488297dd.js";import{Q as z}from"./QPageScroller.62333d8f.js";import{Q as N}from"./QPage.959871c7.js";import"./QResizeObserver.4d611c44.js";import"./use-page-sticky.9d6b41d8.js";const T={name:"BookingSearch",data(){return{loading:!1,data:[],q:"",merchant:[],table_list:[]}},created(){this.q=this.$route.query.q,this.Search()},computed:{hasData(){return Object.keys(this.data).length>0},getData(){return this.data}},methods:{Search(){this.loading=!0,y.fetchDataPostTable2("BookingSearch","search="+this.q).then(e=>{e.code==1&&(this.data=e.details.data,this.merchant=e.details.merchant,this.table_list=e.details.table_list)}).catch(e=>{}).then(e=>{this.loading=!1})}}},V={key:0},j={class:"text-grey q-ma-none"},x={class:"row justify-between items-center"},I={class:"font13"},P={class:"text-secondary q-ml-sm text-weight-bold"},L={class:"row justify-between items-center"},F={key:0,class:"font13 text-weight-bold"},A={key:1,class:"font13"},E={class:"row justify-between items-center"},G={class:"font13"},H={key:0,class:"font12"};function O(e,u,U,X,o,m){return l(),i(_,null,[o.loading?d("",!0):(l(),f($,{key:0,reveal:"","reveal-offset":"50",class:h({"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-black":!e.$q.dark.mode})},{default:r(()=>[t(S,null,{default:r(()=>[t(b,{class:"text-weight-bold"},{default:r(()=>[c(s(e.$t("Bookings")),1)]),_:1}),t(g,{onClick:u[0]||(u[0]=a=>e.$router.back()),flat:"",round:"",dense:"",icon:"close",class:"q-mr-sm",color:e.$q.dark.mode?"white":"dark"},null,8,["color"])]),_:1})]),_:1},8,["class"])),t(N,{class:h({"bg-mydark":e.$q.dark.mode,"bg-grey-1":!e.$q.dark.mode,"flex flex-center":!m.hasData&&!o.loading})},{default:r(()=>[!m.hasData&&!o.loading?(l(),i("div",V,[n("p",j,s(e.$t("No data available")),1)])):d("",!0),t(D,null,{default:r(()=>[(l(!0),i(_,null,q(m.getData,a=>(l(),f(B,{key:a,clickable:"",to:{path:"/booking/track",query:{id:a.reservation_uuid}}},{default:r(()=>[t(Q,{flat:"",class:"fit radius8"},{default:r(()=>[t(v,{class:"q-pl-md q-pr-md q-pt-sm q-pb-sm"},{default:r(()=>[n("div",x,[t(k,{icon:"las la-calendar",color:e.$q.dark.mode?"grey600":"white","text-color":e.$q.dark.mode?"grey300":"grey",size:"sm",class:h({"":e.$q.dark.mode,"q-pl-none":!e.$q.dark.mode})},{default:r(()=>[c(s(a.reservation_date_raw),1)]),_:2},1032,["color","text-color","class"]),t(k,{size:"sm",style:w({"background-color":`${a.status_color.background}`,color:`${a.status_color.color}`})},{default:r(()=>[c(s(a.status),1)]),_:2},1032,["style"])]),n("div",I,[c(s(e.$t("Booking ID")),1),n("span",P,"#"+s(a.reservation_id),1)]),n("div",L,[o.merchant[a.merchant_id]?(l(),i("div",F,s(o.merchant[a.merchant_id].restaurant_name),1)):d("",!0),o.merchant[a.merchant_id]?(l(),i("div",A,s(o.merchant[a.merchant_id].merchant_address),1)):d("",!0)]),n("div",E,[n("div",G,s(e.$t("Guest"))+" : "+s(a.guest_number),1),o.table_list[a.table_id]?(l(),i("div",H,s(o.table_list[a.table_id]),1)):d("",!0)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1}),t(C,{showing:o.loading,color:"primary",size:"md","label-class":"dark",class:"transparent"},null,8,["showing"]),t(z,{position:"bottom-right","scroll-offset":150,offset:[18,18]},{default:r(()=>[t(g,{fab:"",icon:"keyboard_arrow_up",color:"mygrey","text-color":"dark",dense:"",padding:"3px"})]),_:1})]),_:1},8,["class"])],64)}var se=p(T,[["render",O]]);export{se as default};
