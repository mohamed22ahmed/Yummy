import{_ as g,A as o,n as r,a0 as u,d as l,q as i,$ as b,F as h,a2 as c,X as f,Y as m,as as _,Z as p,p as k,at as s}from"./index.f6661a24.js";import{Q as y}from"./QToolbarTitle.0f4dda99.js";import{Q as B}from"./QToolbar.7bb603c7.js";import{Q as w}from"./QHeader.ba9c2ff9.js";import{Q as V}from"./QInnerLoading.c6ed50f8.js";import{Q as q}from"./QFooter.4f4f9530.js";import{Q}from"./QForm.4e86ee71.js";import{Q as $}from"./QPage.78315ab4.js";import"./QResizeObserver.dc10e4c2.js";const T={name:"BankInformation",data(){return{loading:!1,id:"",data:[],account_name:"",account_number_iban:"",swift_code:"",bank_name:"",bank_branch:""}},components:{},computed:{hasData(){return Object.keys(this.data).length>0}},mounted(){this.id=this.$route.query.id,o.empty(this.id)||this.getBankInfo()},methods:{getBankInfo(){this.loading=!0,o.fetchDataByTokenPost("getBankInfo","id="+this.id).then(a=>{this.data=a.details,this.account_name=this.data.account_name,this.account_number_iban=this.data.account_number_iban,this.swift_code=this.data.swift_code,this.bank_name=this.data.bank_name,this.bank_branch=this.data.bank_branch}).catch(a=>{}).then(a=>{this.loading=!1})},formSubmit(){o.showLoadingBox("",this.$q);let a={id:this.id,account_name:this.account_name,account_number_iban:this.account_number_iban,swift_code:this.swift_code,bank_name:this.bank_name,bank_branch:this.bank_branch};o.fetchDataByTokenPost("AddDriverBankInfo",a).then(t=>{o.notify("light-green",t.msg,"check_circle",this.$q)}).catch(t=>{o.notify("red-5",t,"error_outline",this.$q)}).then(t=>{o.hideLoadingBox(this.$q)})}}},I={key:1,class:"text-grey"};function D(a,t,S,C,n,d){return r(),u(h,null,[l(w,{class:b({"bg-mydark text-white":a.$q.dark.mode,"bg-white text-dark":!a.$q.dark.mode})},{default:i(()=>[l(B,null,{default:i(()=>[l(c,{onClick:t[0]||(t[0]=e=>a.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:a.$q.dark.mode?"white":"dark"},null,8,["color"]),l(y,{class:"text-weight-bold"},{default:i(()=>[f(m(a.$t("Bank information"))+" ",1),d.hasData?(r(),u(h,{key:0},[f(" - "+m(n.data.first_name)+" "+m(n.data.last_name),1)],64)):_("",!0)]),_:1})]),_:1}),l(p)]),_:1},8,["class"]),l($,{class:b([{"bg-mydark text-white":a.$q.dark.mode,"bg-white text-dark":!a.$q.dark.mode,"flex flex-center":!n.loading&&!d.hasData},"q-pa-md"])},{default:i(()=>[n.loading?(r(),k(V,{key:0,showing:!0,color:"primary",size:"md"})):(r(),k(Q,{key:1,onSubmit:d.formSubmit},{default:i(()=>[d.hasData?(r(),u(h,{key:0},[l(s,{modelValue:n.account_name,"onUpdate:modelValue":t[1]||(t[1]=e=>n.account_name=e),label:a.$t("Bank account holders name"),"stack-label":"",outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),l(s,{modelValue:n.account_number_iban,"onUpdate:modelValue":t[2]||(t[2]=e=>n.account_number_iban=e),label:a.$t("Bank account number/IBAN"),"stack-label":"",outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),l(s,{modelValue:n.swift_code,"onUpdate:modelValue":t[3]||(t[3]=e=>n.swift_code=e),label:a.$t("Swift Code"),"stack-label":"",outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),l(s,{modelValue:n.bank_name,"onUpdate:modelValue":t[4]||(t[4]=e=>n.bank_name=e),label:a.$t("Bank name in full"),"stack-label":"",outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),l(s,{modelValue:n.bank_branch,"onUpdate:modelValue":t[5]||(t[5]=e=>n.bank_branch=e),label:a.$t("Bank branch city"),"stack-label":"",outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),l(q,null,{default:i(()=>[l(c,{type:"submit",color:"primary","text-color":"white",label:a.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":""},null,8,["label"])]),_:1})],64)):(r(),u("div",I,m(a.$t("No available data")),1))]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var j=g(T,[["render",D]]);export{j as default};
