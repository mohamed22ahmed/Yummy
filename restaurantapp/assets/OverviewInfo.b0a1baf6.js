import{_ as g,ay as k,A as n,m as b,n as r,p as u,q as i,d as a,a2 as Q,X as h,Y as t,a0 as l,F as m,as as w,Z as q,$ as _,ap as s,a1 as y,az as D,a4 as T,a5 as $}from"./index.f6661a24.js";import{Q as A}from"./QToolbarTitle.0f4dda99.js";import{Q as O}from"./QToolbar.7bb603c7.js";import{Q as x}from"./QHeader.ba9c2ff9.js";import{Q as I}from"./QInnerLoading.c6ed50f8.js";import{Q as P}from"./QLinearProgress.0a813588.js";import{Q as B}from"./QSpace.7af5fd36.js";import{Q as v}from"./QItemLabel.0d3c2221.js";import{Q as S}from"./QList.16ddb51a.js";import{Q as C}from"./QPage.78315ab4.js";import{Q as L}from"./QPullToRefresh.a19885b1.js";import"./QResizeObserver.dc10e4c2.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";import"./selection.ef67fb9c.js";import"./format.de7e9769.js";const N={name:"OverviewInfo",components:{TableSummary:k(()=>D(()=>import("./TableSummary.747b0962.js"),["assets/TableSummary.747b0962.js","assets/QSkeleton.e9a2b7df.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/swiper.min.f241f74a.js","assets/swiper.min.b39a1361.css"]))},data(){return{id:"",loading:!1,data:[],data_summary:[],loading_summary:!1,data_activity:[],data_done:void 0}},mounted(){this.id=this.$route.query.id,n.empty(this.id)||(this.getDriverOverview(),this.getDriverActivity())},computed:{hasData(){return Object.keys(this.data).length>0},hasActivity(){return Object.keys(this.data_activity).length>0}},methods:{refresh(e){this.data_done=e,this.getDriverOverview()},getDriverActivity(){n.fetchDataByTokenPost("getDriverActivity","id="+this.id).then(e=>{this.data_activity=e.details.data}).catch(e=>{}).then(e=>{})},getDriverOverview(){n.empty(this.data_done)&&(this.loading=!0),n.fetchDataByTokenPost("getDriverOverview","id="+this.id).then(e=>{this.data=e.details,this.data_summary.push({label:this.$t("Total earnings"),value:this.data.wallet_balance}),this.data_summary.push({label:this.$t("Total Delivered"),value:this.data.total_delivered}),this.data_summary.push({label:this.$t("Total Tips"),value:this.data.total_tip})}).catch(e=>{n.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1,n.empty(this.data_done)||this.data_done()})}}},V={class:"row q-gutter-sm"},z={class:"col-3"},R={class:"text-h5"},j={class:"text-caption line-normal"},E={class:"col q-gutter-y-sm"},F={class:"flex justify-between font11"},H={class:"border-grey radius8 q-mb-md"},X={class:"text-h6"},Y={key:1},Z={class:"text-center q-pa-lg"},G={class:"text-grey"},J={key:1,class:"text-grey"};function K(e,f,M,U,d,c){const p=b("TableSummary");return r(),u(L,{onRefresh:c.refresh},{default:i(()=>[a(x,{class:_({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:i(()=>[a(O,null,{default:i(()=>[a(Q,{onClick:f[0]||(f[0]=o=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(A,{class:"text-weight-bold"},{default:i(()=>[h(t(e.$t("Overview"))+" ",1),c.hasData?(r(),l(m,{key:0},[h(" - "+t(d.data.first_name)+" "+t(d.data.last_name),1)],64)):w("",!0)]),_:1})]),_:1}),a(q)]),_:1},8,["class"]),a(C,{class:_([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode,"flex flex-center":!c.hasData&&!d.loading},"q-pa-md"])},{default:i(()=>[d.loading?(r(),u(I,{key:0,showing:!0,color:"primary",size:"md"})):(r(),l(m,{key:1},[c.hasData?(r(),l(m,{key:0},[s("div",{class:_(["radius8 bg-grey-1x q-pa-sm",{"bg-grey600 text-white":e.$q.dark.mode,"bg-grey-1":!e.$q.dark.mode}])},[s("div",V,[s("div",z,[s("div",R,t(d.data.total),1),s("div",j,t(e.$t("Total reviews")),1)]),s("div",E,[(r(!0),l(m,null,y(d.data.review_summary,o=>(r(),l(m,{key:o},[s("div",F,[s("div",null,t(o.count)+" "+t(e.$t("star")),1),s("div",null,t(o.in_percent),1)]),a(P,{size:"md",value:o.review/100,color:"green",class:"q-ma-none"},null,8,["value"])],64))),128))])])],2),a(B,{class:"q-pa-md"}),s("div",H,[a(p,{ref:"table_summary",loading:d.loading_summary,data:d.data_summary,bg_color:"bg-grey-1",concat:!1,set_slide:2.6},null,8,["loading","data","set_slide"])]),s("div",X,t(e.$t("Activities")),1),c.hasActivity?(r(),u(S,{key:0,separator:""},{default:i(()=>[(r(!0),l(m,null,y(d.data_activity,o=>(r(),u(T,{key:o},{default:i(()=>[a($,{top:""},{default:i(()=>[a(v,{class:"text-dark"},{default:i(()=>[h(t(o.created_at),1)]),_:2},1024),a(v,{caption:""},{default:i(()=>[h(t(o.order_id),1)]),_:2},1024),a(v,{caption:""},{default:i(()=>[h(t(o.remarks),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(r(),l("div",Y,[s("div",Z,[s("div",G,t(e.$t("No available data")),1)])]))],64)):(r(),l("div",J,t(e.$t("No available data")),1))],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ve=g(N,[["render",K]]);export{ve as default};
