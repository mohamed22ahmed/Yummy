import{Q as y}from"./QInnerLoading.c6ed50f8.js";import{_ as g,aq as b,A as m,n,p as u,q as d,$ as f,b7 as v,d as a,ap as s,Y as o,ar as h,a0 as V,at as i,F as k,as as S,a2 as q,b8 as Q}from"./index.f6661a24.js";import{Q as _}from"./QSpace.7af5fd36.js";import{Q as c}from"./QSelect.4e3956e1.js";import{Q as D}from"./QForm.4e86ee71.js";import{Q as U}from"./QPage.78315ab4.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const F={name:"DeliverySettings",data(){return{loading:!1,loading_submit:!1,merchant_opt_contact_delivery:!1,free_delivery_on_first_order:!1,merchant_delivery_charges_type:"fixed",distance_price:0,estimation:0,minimum_order:0,maximum_order:0,charge_type_list:[{value:"fixed",label:this.$t("Fixed")},{value:"dynamic",label:this.$t("Dynamic Rates")}],data:[],user_data:[],merchant_charge_type:"fixed",merchant_service_fee:"",merchant_small_order_fee:"",merchant_small_less_order_based:"",small_order_charge_type:[{value:"fixed",label:this.$t("Fixed")},{value:"percentage",label:this.$t("Percentage")}]}},mounted(){this.getDeliverySettings(),this.user_data=b.getUser()},methods:{getDeliverySettings(){this.loading=!0,m.fetchDataByTokenPost("getDeliverySettings").then(e=>{this.data=e.details,this.merchant_opt_contact_delivery=this.data.merchant_opt_contact_delivery,this.free_delivery_on_first_order=this.data.free_delivery_on_first_order,this.merchant_delivery_charges_type=this.data.merchant_delivery_charges_type,this.distance_price=this.data.distance_price,this.estimation=this.data.estimation,this.minimum_order=this.data.minimum_order,this.maximum_order=this.data.maximum_order,this.merchant_charge_type=this.data.merchant_charge_type,this.merchant_service_fee=this.data.merchant_service_fee,this.merchant_small_order_fee=this.data.merchant_small_order_fee,this.merchant_small_less_order_based=this.data.merchant_small_less_order_based}).catch(e=>{}).then(e=>{this.loading=!1})},onSubmit(){this.loading_submit=!0,m.fetchDataByTokenPost("SaveDeliverySettings",{merchant_opt_contact_delivery:this.merchant_opt_contact_delivery,free_delivery_on_first_order:this.free_delivery_on_first_order,merchant_delivery_charges_type:this.merchant_delivery_charges_type,distance_price:this.distance_price,estimation:this.estimation,minimum_order:this.minimum_order,maximum_order:this.maximum_order,merchant_charge_type:this.merchant_charge_type,merchant_service_fee:this.merchant_service_fee,merchant_small_order_fee:this.merchant_small_order_fee,merchant_small_less_order_based:this.merchant_small_less_order_based}).then(e=>{m.notify("light-green",e.msg,"check_circle",this.$q)}).catch(e=>{m.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading_submit=!1})}}},x={class:"text-subtitle1"},B={class:"q-gutter-y-sm"},C={class:"text-subtitle1"},T={class:"text-subtitle1"},w={class:"q-gutter-y-md"},P={class:"text-subtitle1 q-mt-sm"},$={class:"q-gutter-y-md"},O={class:"text-subtitle1"},z={class:"q-gutter-y-sm"};function I(e,r,N,A,l,p){return n(),u(U,{class:f([{"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode},"q-pr-md q-pl-md"])},{default:d(()=>[l.loading?(n(),u(y,{key:0,showing:!0,color:"primary",size:"md"})):(n(),u(v,{key:1,class:"q-pa-none no-shadow"},{default:d(()=>[a(Q,null,{default:d(()=>[a(D,{onSubmit:p.onSubmit},{default:d(()=>[s("div",x,o(e.$t("Settings")),1),s("div",B,[a(h,{modelValue:l.merchant_opt_contact_delivery,"onUpdate:modelValue":r[0]||(r[0]=t=>l.merchant_opt_contact_delivery=t),label:e.$t("Enabled Opt in for no contact delivery"),color:"primary"},null,8,["modelValue","label"]),a(h,{modelValue:l.free_delivery_on_first_order,"onUpdate:modelValue":r[1]||(r[1]=t=>l.free_delivery_on_first_order=t),label:e.$t("Free Delivery On First Order"),color:"primary"},null,8,["modelValue","label"])]),a(_,{class:"q-pa-sm"}),s("div",C,o(e.$t("Delivery Charge Type")),1),a(c,{modelValue:l.merchant_delivery_charges_type,"onUpdate:modelValue":r[2]||(r[2]=t=>l.merchant_delivery_charges_type=t),label:e.$t("Charge type"),options:l.charge_type_list,"stack-label":"",behavior:"dialog",outlined:"",color:"grey-5","emit-value":"","map-options":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["modelValue","label","options","rules"]),l.user_data.merchant_type==1?(n(),V(k,{key:0},[s("div",T,o(e.$t("Service Fee")),1),s("div",w,[a(i,{modelValue:l.merchant_service_fee,"onUpdate:modelValue":r[3]||(r[3]=t=>l.merchant_service_fee=t),type:"number",step:"any",label:e.$t("Service Fee"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"])]),s("div",P,o(e.$t("Small order fee")),1),s("div",$,[a(c,{modelValue:l.merchant_charge_type,"onUpdate:modelValue":r[4]||(r[4]=t=>l.merchant_charge_type=t),label:e.$t("Small order fee charge type"),options:l.small_order_charge_type,"stack-label":"",behavior:"dialog",outlined:"",color:"grey-5","emit-value":"","map-options":""},null,8,["modelValue","label","options"]),a(i,{modelValue:l.merchant_small_order_fee,"onUpdate:modelValue":r[5]||(r[5]=t=>l.merchant_small_order_fee=t),type:"number",step:"any",label:e.$t("Small order fee"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"]),a(i,{modelValue:l.merchant_small_less_order_based,"onUpdate:modelValue":r[6]||(r[6]=t=>l.merchant_small_less_order_based=t),type:"number",step:"any",label:e.$t("Less than subtotal"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"])]),a(_,{class:"q-pa-sm"})],64)):S("",!0),s("div",O,o(e.$t("Standard delivery fee")),1),a(i,{modelValue:l.distance_price,"onUpdate:modelValue":r[7]||(r[7]=t=>l.distance_price=t),type:"number",step:"any",label:e.$t("Price"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t>0||this.$t("This field is required")],hint:e.$t("in minutes example 10-20mins")},null,8,["modelValue","label","rules","hint"]),a(_,{class:"q-pa-sm"}),a(i,{modelValue:l.estimation,"onUpdate:modelValue":r[8]||(r[8]=t=>l.estimation=t),label:e.$t("Delivery estimation"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t.length>0||this.$t("This field is required")],mask:"##-##"},null,8,["modelValue","label","rules"]),s("div",z,[a(i,{modelValue:l.minimum_order,"onUpdate:modelValue":r[9]||(r[9]=t=>l.minimum_order=t),type:"number",step:"any",label:e.$t("Minimum Order"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"]),a(i,{modelValue:l.maximum_order,"onUpdate:modelValue":r[10]||(r[10]=t=>l.maximum_order=t),type:"number",step:"any",label:e.$t("Maximum Order"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"])]),a(_,{class:"q-pa-sm"}),a(q,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:l.loading_submit},null,8,["label","loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}))]),_:1},8,["class"])}var Z=g(F,[["render",I]]);export{Z as default};
