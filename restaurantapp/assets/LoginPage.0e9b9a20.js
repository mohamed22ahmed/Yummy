import{Q as c}from"./QSpace.7af5fd36.js";import{_ as w,u as k,A as u,aq as g,n as h,a0 as b,d as s,q as r,$ as q,F as S,ap as l,ac as i,ar as Q,p as V,a2 as d,as as $,Y as n,at as f,X as _}from"./index.f6661a24.js";import{Q as v}from"./QToolbar.7bb603c7.js";import{Q as D}from"./QHeader.ba9c2ff9.js";import{Q as x}from"./QForm.4e86ee71.js";import{Q as P}from"./QPage.78315ab4.js";import{u as T}from"./AccessStore.ca0ffc27.js";import"./QResizeObserver.dc10e4c2.js";const A={name:"LoginPage",data(){return{loading:!1,username:"",password:"",field_type:"password",password_icon:"las la-low-vision",dark_mode:!1,rtl:!1}},setup(e){const t=k(),m=T();return{DataStore:t,AccessStore:m}},created(){this.dark_mode=this.DataStore.dark_mode},watch:{field_type(e,t){e=="text"?this.password_icon="las la-eye":this.password_icon="las la-low-vision"},dark_mode(e,t){this.$q.dark.set(e),this.DataStore.dark_mode=e},rtl(e,t){this.DataStore.rtl=e,this.$q.lang.set({rtl:e})}},computed:{getDarkMode(){return this.dark_mode?"las la-adjust":"las la-moon"},getRTLMode(){return this.rtl?"format_textdirection_l_to_r":"format_textdirection_r_to_l"}},methods:{onSubmit(){this.loading=!0,u.fetchDataPost("Login","username="+this.username+"&password="+this.password).then(e=>{g.setUser(e.details.user_data),g.setToken(e.details.user_token),this.AccessStore.menu_access=e.details.menu_access,this.DataStore.cart_uuid="",u.notify(this.$q.dark.mode?"grey600":"light-green",e.msg,"check_circle",this.$q),this.$router.push("/dashboard")}).catch(e=>{u.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},B={class:"full-width text-center"},I={class:"text-weight-bold no-margin"},L={class:"text-weight-medium q-ma-none"},U={class:"row justify-between q-mb-sm",style:{"margin-top":"-15px"}},C=l("div",null,null,-1),F={class:"q-pa-sm row items-center justify-center"},N={class:"text-grey"};function j(e,t,m,y,o,p){return h(),b(S,null,[s(D,{class:q({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:r(()=>[s(v,null,{default:r(()=>[s(c),l("div",null,[s(i,{name:p.getDarkMode,size:"sm"},null,8,["name"]),s(Q,{modelValue:o.dark_mode,"onUpdate:modelValue":t[0]||(t[0]=a=>o.dark_mode=a),color:"primary"},null,8,["modelValue"])]),y.DataStore.enabled_language?(h(),V(d,{key:0,to:"/account/language",flat:"",round:"",dense:"",icon:"las la-globe",class:"q-mr-smx",color:e.$q.dark.mode?"white":"grey"},null,8,["color"])):$("",!0)]),_:1})]),_:1},8,["class"]),s(P,{class:"flex flex-center q-pl-md q-pr-md"},{default:r(()=>[l("div",B,[s(x,{onSubmit:p.onSubmit},{default:r(()=>[l("h6",I,n(e.$t("Let's Sign You In")),1),l("p",L,n(e.$t("Enter your username and password for sigin"))+". ",1),s(c,{class:"q-pa-sm"}),s(f,{modelValue:o.username,"onUpdate:modelValue":t[1]||(t[1]=a=>o.username=a),label:e.$t("Username"),outlined:"",color:"grey-5",rules:[a=>a&&a.length>0||this.$t("This field is required")]},{prepend:r(()=>[s(i,{name:"las la-user-alt",color:"grey"})]),_:1},8,["modelValue","label","rules"]),s(f,{modelValue:o.password,"onUpdate:modelValue":t[3]||(t[3]=a=>o.password=a),type:o.field_type,label:e.$t("Password"),outlined:"",color:"grey-5",rules:[a=>a&&a.length>0||this.$t("This field is required")]},{prepend:r(()=>[s(i,{name:"las la-lock",color:"grey"})]),append:r(()=>[s(i,{onClick:t[2]||(t[2]=a=>this.field_type=this.field_type=="password"?"text":"password"),name:o.password_icon,color:"grey",class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","label","rules"]),l("div",U,[C,s(d,{unelevated:"",flat:"","no-caps":"",color:"primary",to:"/forgotpassword"},{default:r(()=>[_(n(e.$t("Forgot Password"))+"?",1)]),_:1})]),s(d,{type:"submit",color:"primary","text-color":"white",label:e.$t("Sign In"),unelevated:"",class:"full-width",size:"lg","no-caps":"",loading:o.loading},null,8,["label","loading"]),l("div",F,[l("span",N,n(e.$t("Don't have an account")),1),s(d,{to:"/signup",unelevated:"",flat:"","no-caps":"",color:"primary"},{default:r(()=>[_(n(e.$t("Signup")),1)]),_:1})])]),_:1},8,["onSubmit"])])]),_:1})],64)}var J=w(A,[["render",j]]);export{J as default};
