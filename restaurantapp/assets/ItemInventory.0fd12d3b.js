import{_ as f,A as i,n as l,p as d,q as a,d as o,a2 as n,X as h,Y as g,Z as c,$ as u,ap as p,ar as b,at as y}from"./index.f6661a24.js";import{Q as _}from"./QToolbarTitle.0f4dda99.js";import{Q}from"./QToolbar.7bb603c7.js";import{Q as S}from"./QHeader.ba9c2ff9.js";import{Q as q}from"./QInnerLoading.c6ed50f8.js";import{Q as I}from"./QSelect.4e3956e1.js";import{Q as v}from"./QFooter.4f4f9530.js";import{Q as w}from"./QForm.4e86ee71.js";import{Q as V}from"./QPage.78315ab4.js";import{Q as $}from"./QPullToRefresh.a19885b1.js";import{u as T}from"./MenuStore.420c66e5.js";import"./QResizeObserver.dc10e4c2.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";const B={name:"ItemInventory",data(){return{track_stock:!1,sku:"",supplier_id:"",item_uuid:"",loading_get:!1,loading:!1}},setup(e){return{MenuStore:T()}},created(){this.MenuStore.getSupplier(),this.item_uuid=this.$route.query.item_uuid,i.empty(this.item_uuid)||this.getItem()},methods:{refresh(e){this.MenuStore.getSupplier(),i.empty(this.item_uuid)?e():this.getItem(e)},getItem(e){this.loading_get=!0,i.fetchDataByTokenPost("getItem","id="+this.item_uuid).then(t=>{this.track_stock=t.details.track_stock,this.sku=t.details.sku,this.supplier_id=t.details.supplier_id}).catch(t=>{i.notify("dark",t,"error",this.$q)}).then(t=>{this.loading_get=!1,i.empty(e)||e()})},onSubmit(){this.loading=!0,i.fetchDataByToken("saveInventory",{item_uuid:this.item_uuid,track_stock:this.track_stock,sku:this.sku,supplier_id:this.supplier_id}).then(e=>{i.notify("light-green",e.msg,"check_circle",this.$q)}).catch(e=>{i.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},M={class:"q-pa-md q-gutter-md"};function z(e,t,P,k,r,m){return l(),d($,{onRefresh:m.refresh},{default:a(()=>[o(S,{class:u({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:a(()=>[o(Q,null,{default:a(()=>[o(n,{onClick:t[0]||(t[0]=s=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),o(_,{class:"text-weight-bold"},{default:a(()=>[h(g(e.$t("Item Inventory")),1)]),_:1})]),_:1}),o(c)]),_:1},8,["class"]),o(V,{class:u({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:a(()=>[r.loading_get?(l(),d(q,{key:0,showing:!0,color:"primary",size:"md"})):(l(),d(w,{key:1,onSubmit:m.onSubmit},{default:a(()=>[p("div",M,[p("div",null,[o(b,{modelValue:r.track_stock,"onUpdate:modelValue":t[1]||(t[1]=s=>r.track_stock=s),label:e.$t("Track Stock"),dense:""},null,8,["modelValue","label"])]),o(y,{outlined:"",modelValue:r.sku,"onUpdate:modelValue":t[2]||(t[2]=s=>r.sku=s),label:e.$t("SKU"),"stack-label":"",color:"grey-5","lazy-rules":""},null,8,["modelValue","label"]),o(I,{outlined:"",modelValue:r.supplier_id,"onUpdate:modelValue":t[3]||(t[3]=s=>r.supplier_id=s),label:e.$t("Supplier"),color:"grey-5",options:k.MenuStore.supplier_data,"stack-label":"",behavior:"dialog","transition-show":"fade","transition-hide":"fade","emit-value":"","map-options":""},null,8,["modelValue","label","options"])]),o(v,{class:u(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:a(()=>[o(n,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:r.loading},null,8,["label","loading"])]),_:1},8,["class"])]),_:1},8,["onSubmit"]))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ee=f(B,[["render",z]]);export{ee as default};
