import{Q as _}from"./QInnerLoading.c6ed50f8.js";import{_ as p,aq as g,A as n,n as o,p as l,q as m,$ as b,b7 as f,d as a,ap as u,Y as d,at as r,as as y,a2 as v,b8 as k}from"./index.f6661a24.js";import{Q as c}from"./QSpace.7af5fd36.js";import{Q as V}from"./QForm.4e86ee71.js";import{Q as q}from"./QPage.78315ab4.js";const S={name:"DineinSettings",data(){return{loading:!1,loading_submit:!1,data:[],estimation:"",minimum_order:"",maximum_order:"",instructions:"",service_code:"dinein",instructions_type:"customer_dinein_instructions",user_data:[],merchant_service_fee:""}},mounted(){this.getSettings(),this.user_data=g.getUser()},methods:{getSettings(){this.loading=!0,n.fetchDataByTokenPost("getOrderTypeSettings","service_code="+this.service_code+"&instructions_type="+this.instructions_type).then(e=>{this.data=e.details,this.estimation=this.data.estimation,this.minimum_order=this.data.minimum_order,this.maximum_order=this.data.maximum_order,this.instructions=this.data.instructions,this.merchant_service_fee=this.data.merchant_service_fee}).catch(e=>{}).then(e=>{this.loading=!1})},onSubmit(){this.loading_submit=!0,n.fetchDataByTokenPost("saveOrderTypeSettings",{service_code:this.service_code,instructions_type:this.instructions_type,estimation:this.estimation,minimum_order:this.minimum_order,maximum_order:this.maximum_order,instructions:this.instructions,merchant_service_fee:this.merchant_service_fee}).then(e=>{n.notify("light-green",e.msg,"check_circle",this.$q)}).catch(e=>{n.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading_submit=!1})}}},Q={class:"text-subtitle1"},x={class:"q-gutter-y-md"},w={class:"text-subtitle1"},D={class:"text-caption line-normal"};function B(e,s,C,T,t,h){return o(),l(q,{class:b([{"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode},"q-pr-md q-pl-md"])},{default:m(()=>[t.loading?(o(),l(_,{key:0,showing:!0,color:"primary",size:"md"})):(o(),l(f,{key:1,class:"q-pa-none no-shadow"},{default:m(()=>[a(k,{class:"q-pa-sm"},{default:m(()=>[a(V,{onSubmit:h.onSubmit},{default:m(()=>[u("div",Q,d(e.$t("Settings")),1),t.user_data.merchant_type==1?(o(),l(r,{key:0,modelValue:t.merchant_service_fee,"onUpdate:modelValue":s[0]||(s[0]=i=>t.merchant_service_fee=i),type:"number",step:"any",label:e.$t("Service Fee"),"stack-label":"",outlined:"",color:"grey-5",rules:[i=>i>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"])):y("",!0),a(r,{modelValue:t.estimation,"onUpdate:modelValue":s[1]||(s[1]=i=>t.estimation=i),label:e.$t("Dinein estimation"),"stack-label":"",outlined:"",color:"grey-5",rules:[i=>i.length>0||this.$t("This field is required")],mask:"##-##",hint:e.$t("in minutes example 10-20mins")},null,8,["modelValue","label","rules","hint"]),a(c,{class:"q-pa-sm"}),u("div",x,[a(r,{modelValue:t.minimum_order,"onUpdate:modelValue":s[2]||(s[2]=i=>t.minimum_order=i),type:"number",step:"any",label:e.$t("Minimum Order"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"]),a(r,{modelValue:t.maximum_order,"onUpdate:modelValue":s[3]||(s[3]=i=>t.maximum_order=i),type:"number",step:"any",label:e.$t("Maximum Order"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"])]),a(c,{class:"q-pa-sm"}),u("div",w,d(e.$t("Customer Dinein Instructions")),1),u("p",D,d(e.$t("customer_pickup_instructions")),1),a(r,{modelValue:t.instructions,"onUpdate:modelValue":s[4]||(s[4]=i=>t.instructions=i),"stack-label":"",outlined:"",color:"grey-5",autogrow:""},null,8,["modelValue"]),a(c,{class:"q-pa-sm"}),a(v,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:t.loading_submit},null,8,["label","loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}))]),_:1},8,["class"])}var z=p(S,[["render",B]]);export{z as default};
