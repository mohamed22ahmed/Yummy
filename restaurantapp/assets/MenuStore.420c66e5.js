import{k as o,A as i}from"./index.f6661a24.js";const d=o("MenuStore",{state:()=>({loading:!1,category:[],items:[],loading_addon:!1,addon:[],addon_items:[],addon_category_list:[],loading_category:!0,category_list:[],unit:[],item_featured:[],done_category:!1,priceatt_loading:!1,discount_type:[],loading_addoncategory:!1,loading_price:!1,price_data:[],loading_supplier:!1,supplier_data:[],addonsort_loading:!1,sort_addon_category:[],sort_size_list:[],sort_size:[]}),persist:!1,getters:{hasCategory(t){return Object.keys(t.category).length>0},hasCategories(t){return Object.keys(t.category_list).length>0},hasAddonCategory(t){return Object.keys(t.addon).length>0},hasAddon(t){return Object.keys(t.addon).length>0},hasAddonSort(t){return Object.keys(t.sort_addon_category).length>0},getCategory(t){return t.category},getItem(t){return t.items}},actions:{geStoreMenu(t){this.loading=!0,i.fetchDataByTokenPost("geStoreMenu","").then(e=>{this.category=e.details.data.category,this.items=e.details.data.items}).catch(e=>{this.category=[],this.items=[]}).then(e=>{this.loading=!1,i.empty(t)||t()})},hadCategory(){return Object.keys(this.category).length>0},geStoreAddonMenu(t){this.loading_addon=!0,i.fetchDataByTokenPost("geStoreAddonMenu","").then(e=>{this.addon=e.details.data,this.addon_items=e.details.items}).catch(e=>{this.addon=[],this.addon_items=[]}).then(e=>{this.loading_addon=!1,i.empty(t)||t()})},hadAddonCategory(){return Object.keys(this.addon).length>0},getAddonCategoryList(t){this.loading_addoncategory=!0,i.fetchDataByTokenPost("getAddonCategoryList","").then(e=>{this.addon_category_list=[],Object.keys(e.details.data).length>0&&Object.entries(e.details.data).forEach(([a,s])=>{this.addon_category_list.push({label:s.name,value:s.id})})}).catch(e=>{this.addon_category_list=[]}).then(e=>{this.loading_addoncategory=!1,i.empty(t)||t()})},getCategoryList(t){this.loading_category=!0,this.done_category=!1,i.fetchDataByTokenPost("getCategoryList","").then(e=>{this.category_list=[],this.unit=[],this.item_featured=[],Object.keys(e.details.data).length>0&&Object.entries(e.details.data).forEach(([a,s])=>{this.category_list.push({label:s.name,value:s.id})}),Object.keys(e.details.unit).length>0&&Object.entries(e.details.unit).forEach(([a,s])=>{this.unit.push({label:s,value:a})}),Object.keys(e.details.item_featured).length>0&&Object.entries(e.details.item_featured).forEach(([a,s])=>{this.item_featured.push({label:s,value:a})}),this.done_category=!0}).catch(e=>{this.category_list=[],this.unit=[],this.item_featured=[]}).then(e=>{this.loading_category=!1,i.empty(t)||t()})},getPriceAttributes(){this.priceatt_loading=!0,i.fetchDataByTokenPost("getPriceAttributes","").then(t=>{this.unit=[],this.discount_type=[],Object.keys(t.details.unit).length>0&&Object.entries(t.details.unit).forEach(([e,a])=>{this.unit.push({label:a,value:e})}),Object.keys(t.details.discount_type).length>0&&Object.entries(t.details.discount_type).forEach(([e,a])=>{i.empty(e)||this.discount_type.push({label:a,value:e})})}).catch(t=>{this.unit=[],this.discount_type=[]}).then(t=>{this.priceatt_loading=!1})},getPriceList(t){this.loading_price=!0,i.fetchDataByTokenPost("getPriceList","id="+t).then(e=>{this.price_data=[];const a=e.details.price_list;Object.keys(a).length>0&&Object.entries(a).forEach(([s,r])=>{this.price_data.push({label:r.price+" "+r.size_name,value:r.item_size_id})})}).catch(e=>{this.price_data=[]}).then(e=>{this.loading_price=!1})},getSupplier(){this.loading_supplier=!0,i.fetchDataByTokenPost("getSupplier","").then(t=>{this.supplier_data=[];const e=t.details.data;Object.keys(e).length>0&&Object.entries(e).forEach(([a,s])=>{i.empty(a)||this.supplier_data.push({label:s,value:a})})}).catch(t=>{this.supplier_data=[]}).then(t=>{this.loading_supplier=!1})},getAddonSort(t,e){this.addonsort_loading=!0,i.fetchDataByTokenPost("getAddonSort","id="+t).then(a=>{this.sort_addon_category=a.details.addon_category,this.sort_size_list=a.details.size_list,this.sort_size=a.details.size}).catch(a=>{this.sort_addon_category=[],this.sort_size_list=[],this.sort_size=[]}).then(a=>{this.addonsort_loading=!1,i.empty(e)||e()})}}});export{d as u};
