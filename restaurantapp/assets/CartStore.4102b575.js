import{k as o,A as i}from"./index.f6661a24.js";const n=o("cartstore",{state:()=>({cart_drawer:!1,cart_loading:!0,items_count:0,cart_items:[],cart_summary:[],cart_total:[],error:[],cart_subtotal:[],cart_uuid:"",refresh_done:void 0,trans_loading:!0,trans_data:[],deliverytimes_loading:!1,deliverytimes_data:[],delivery_date_list:[],delivery_time_list:[],delivery_date:"",delivery_time:"",whento_deliver:"",checkout_address_loading:!1,checkout_address:[],order_loading:!1,order_data:[],loading_storeopen:!1,data_storeopen:[],storeopen_error:"",similar_loading:!1,similar_data:[],menu_loading:!1,data_category:[],data_items:[],items_not_available:[],category_not_available:[],cartcount_loading:!1,cartcount_data:[],payload:["items","merchant_info","service_fee","delivery_fee","packaging","tax","tips","checkout","discount","distance_local","summary","total","subtotal","items_count","points","points_discount"],pos_loading:!1,pos_attributes:[],customer_id:void 0,customer_data:[],order_reference:""}),getters:{hasData(t){return Object.keys(t.cart_items).length>0},getItems(t){return t.cart_items},getCartCount(t){return t.items_count},getCartTotal(t){return t.cart_total},getCartSubTotal(t){if(t.cart_subtotal)return t.cart_subtotal},getCartSubTotalValue(t){if(t.cart_subtotal)return t.cart_subtotal.value},getSummary(t){return t.cart_summary},hasError(t){return!t.cart_loading&&Object.keys(t.error).length>0},getCartError(t){return t.error},getTransactionList(t){let e=[];return i.empty(t.pos_attributes)||i.empty(t.pos_attributes.transaction_list)||Object.keys(t.pos_attributes.transaction_list).length>0&&Object.entries(t.pos_attributes.transaction_list).forEach(([a,r])=>{e.push({label:r.service_name,value:r.service_code})}),e},getAddresslabel(t){let e=[];return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?(Object.entries(t.pos_attributes.address_label).forEach(([a,r])=>{e.push({label:r,value:a})}),e):!1},getDeliveryOption(t){let e=[];return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?(Object.entries(t.pos_attributes.delivery_option).forEach(([a,r])=>{e.push({label:r,value:a})}),e):!1},getPreferedTime(t){let e=[];return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?(Object.entries(t.pos_attributes.preferred_time).forEach(([a,r])=>{e.push({label:r.short_name,value:r.value})}),e):!1},getOpeningDates(t){let e=[];return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?(Object.entries(t.pos_attributes.opening_hours.dates).forEach(([a,r])=>{e.push({label:r.name,value:r.value})}),e):!1},getOrderStatus(t){return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?t.pos_attributes.order_status_list:!1},getPaymentMethod(t){return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?t.pos_attributes.data:!1},getRoomList(t){return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?t.pos_attributes.room_list:!1},getTableList(t){return!t.pos_loading&&Object.keys(t.pos_attributes).length>0?t.pos_attributes.table_list:!1},getOrderReference(t){return t.order_reference}},actions:{getCart(t,e,a){this.cart_loading=!0;let r={cart_uuid:t,local_id:e,payload:i.empty(a)?this.payload:a};i.fetchDataByTokenPost("getCart",r).then(s=>{this.items_count=s.details.items_count,this.cart_uuid=s.details.cart_uuid,this.cart_items=s.details.data.items,this.cart_summary=s.details.data.summary,this.cart_total=s.details.data.total,this.error=s.details.error,this.cart_subtotal=s.details.data.subtotal,this.customer_data=s.details.customer_data,this.order_reference=s.details.order_reference}).catch(s=>{this.items_count=0,this.cart_uuid="",this.cart_items=[],this.cart_summary=[],this.cart_total=[],this.error=[],this.cart_subtotal=[],this.customer_data=[],this.order_reference=""}).then(s=>{this.cart_loading=!1})},posAttributes(){this.pos_loading=!0,i.fetchDataByTokenPost("posAttributes").then(t=>{this.pos_attributes=t.details}).catch(t=>{this.pos_attributes=[]}).then(t=>{this.pos_loading=!1})},afterSelectcustomer(t,e){i.fetchDataByTokenPost("cartSetCustomer","client_id="+e+"&cart_uuid="+t).then(a=>{}).catch(a=>{}).then(a=>{})}}});export{n as u};
