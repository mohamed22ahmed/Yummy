import{Q as f}from"./QImg.b7890c8b.js";import{_ as b,A as _,u as h,n as x,p as c,q as e,d as o,a4 as m,bW as g,cg as y,a5 as a,X as n,Y as p,at as Q}from"./index.f6661a24.js";import{Q as V}from"./QItemLabel.0d3c2221.js";import{Q as I}from"./QSelect.4e3956e1.js";import"./QChip.5b52e54d.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const S={name:"MobilePhone",props:["prefix","phone"],data(){return{mobile_number:"",mobile_prefix:""}},watch:{DataStore:{immediate:!0,deep:!0,handler(r,i){Object.keys(r.phone_default_data).length>0&&(this.mobile_prefix="+"+r.phone_default_data.phonecode)}},mobile_number(r,i){this.$emit("afterInput",{mobile_prefix:this.mobile_prefix,mobile_number:this.mobile_number})}},mounted(){_.empty(this.phone)||(this.mobile_number=this.phone,this.mobile_prefix=this.prefix)},setup(){return{DataStore:h()}},methods:{selectPrefix(){this.$emit("afterInput",{mobile_prefix:this.mobile_prefix,mobile_number:this.mobile_number})}}};function P(r,i,v,u,l,d){return x(),c(Q,{modelValue:l.mobile_number,"onUpdate:modelValue":i[1]||(i[1]=t=>l.mobile_number=t),mask:"##############",outlined:"","lazy-rules":"",color:"grey-5",rules:[t=>t&&t.length>0||this.$t("This field is required")]},{prepend:e(()=>[o(I,{dense:"",modelValue:l.mobile_prefix,"onUpdate:modelValue":[i[0]||(i[0]=t=>l.mobile_prefix=t),d.selectPrefix],options:u.DataStore.phone_prefix_data,onFilter:r.filterFn,behavior:"dialog","input-debounce":"700",style:{border:"none"},"emit-value":"",borderless:"",class:"myq-field"},{option:e(({itemProps:t,opt:s})=>[o(m,g(y(t)),{default:e(()=>[o(a,{avatar:""},{default:e(()=>[o(f,{src:s.flag,style:{height:"15px","max-width":"20px"}},null,8,["src"])]),_:2},1024),o(a,null,{default:e(()=>[o(V,null,{default:e(()=>[n(p(s.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"no-option":e(()=>[o(m,null,{default:e(()=>[o(a,{class:"text-grey"},{default:e(()=>[n(p(r.$t("No results")),1)]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue"])]),_:1},8,["modelValue","rules"])}var B=b(S,[["render",P]]);export{B as default};
