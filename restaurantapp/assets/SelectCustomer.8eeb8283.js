import{Q as s}from"./QSelect.4e3956e1.js";import{_ as m,u as d,A as c,n,p as u,q as p,d as f,a2 as S}from"./index.f6661a24.js";import{u as b}from"./CartStore.4102b575.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const C={name:"SelectCustomer",props:["options_data","template"],data(){return{options:[],initial_data:[]}},created(){},setup(){const t=b(),e=d();return{CartStore:t,DataStore:e}},watch:{options_data(t,e){this.CartStore.customer_id=t.id,this.options=t.data}},methods:{afterSelectcustomer(t){this.CartStore.afterSelectcustomer(this.DataStore.cart_uuid,t)},filterFn(t,e,l){t===""&&e(()=>{this.options=this.initial_data}),c.fetchDataByTokenPost("searchCustomer","q="+t+"&POS=1").then(o=>{e(()=>{this.options=o.details.data})}).catch(o=>{console.debug(o)}).then(o=>{})}}};function h(t,e,l,o,i,a){return l.template==2?(n(),u(s,{key:0,modelValue:o.CartStore.customer_id,"onUpdate:modelValue":[e[0]||(e[0]=r=>o.CartStore.customer_id=r),a.afterSelectcustomer],options:i.options,outlined:"",color:"grey-5","use-input":"",behavior:"dialog","input-debounce":"0","emit-value":"","map-options":"",onFilter:a.filterFn,label:t.$t("Customer"),"stack-label":"",clearable:"",multiple:""},null,8,["modelValue","options","onFilter","onUpdate:modelValue","label"])):(n(),u(s,{key:1,modelValue:o.CartStore.customer_id,"onUpdate:modelValue":[e[2]||(e[2]=r=>o.CartStore.customer_id=r),a.afterSelectcustomer],options:i.options,dense:"",outlined:"","label-color":"dark",color:"grey600","bg-color":"yellow-7","fill-inputx":"","use-input":"",behavior:"dialog","input-debounce":"0","emit-value":"","map-options":"",onFilter:a.filterFn,label:t.$t("Customer"),"stack-label":"",clearable:""},{after:p(()=>[f(S,{onClick:e[1]||(e[1]=r=>this.$emit("createCustomer")),dense:"",icon:"las la-user-plus",color:"blue",class:"fit"})]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","label"]))}var U=m(C,[["render",h]]);export{U as default};
