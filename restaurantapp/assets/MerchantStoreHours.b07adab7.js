import{_ as b,ay as x,u as D,A as n,m as q,n as r,p as f,q as l,d as t,a2 as c,X as m,Y as i,Z as g,$ as y,a0 as u,F as p,ap as s,as as k,a1 as w,az as C}from"./index.f6661a24.js";import{Q as $}from"./QToolbarTitle.0f4dda99.js";import{Q}from"./QToolbar.7bb603c7.js";import{Q as B}from"./QHeader.ba9c2ff9.js";import{Q as H}from"./QInnerLoading.c6ed50f8.js";import{Q as S}from"./QChip.5b52e54d.js";import{Q as T}from"./QPage.78315ab4.js";import{Q as z}from"./QPullToRefresh.a19885b1.js";import"./QResizeObserver.dc10e4c2.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";import"./selection.ef67fb9c.js";import"./format.de7e9769.js";const A={components:{ConfirmDialog:x(()=>C(()=>import("./ConfirmDialog.5cba1a11.js"),["assets/ConfirmDialog.5cba1a11.js","assets/QToolbarTitle.0f4dda99.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QToolbar.7bb603c7.js"]))},data(){return{loading:!1,data:[],edit:!1,data_to_delete:[]}},setup(e){return{DataStore:D()}},created(){this.getOpeningHours()},computed:{hasData(){return Object.keys(this.data).length>0||!n.empty(this.id)},hasData2(){return Object.keys(this.data).length>0}},methods:{refresh(e){this.getOpeningHours(e)},getOpeningHours(e){this.loading=!0,n.fetchDataByTokenPost("getOpeningHours").then(a=>{this.edit=!1,this.data=a.details}).catch(a=>{this.data=[]}).then(a=>{this.loading=!1,n.empty(e)||e()})},confirmDelete(e,a){this.data_to_delete=e,this.data_to_delete.index=a,this.$refs.confirm_dialog.dialog=!0},afterConfirm(){this.$refs.confirm_dialog.dialog=!1,n.showLoadingBox("",this.$q),n.fetchDataByTokenPost("deleteHours","&id="+this.data_to_delete.id).then(e=>{this.data.splice(this.data_to_delete.index,1)}).catch(e=>{n.notify("dark",e,"error",this.$q)}).then(e=>{n.hideLoadingBox(this.$q)})}}},O={class:"row items-center justify-between"},P={class:"text-weight-bold"},L={class:"row items-stretch items-center q-gutter-md"},N={class:"font11 text-grey"},V={class:"col-3"},E={key:1,class:"flex flex-center",style:{"min-height":"calc(30vh)"}},R={class:"full-width text-center"},j={class:"text-weight-bold"},I={class:"text-grey font12 q-mb-none"};function F(e,a,M,_,d,h){const v=q("ConfirmDialog");return r(),f(z,{onRefresh:h.refresh},{default:l(()=>[t(B,{class:y({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:l(()=>[t(Q,null,{default:l(()=>[t(c,{onClick:a[0]||(a[0]=o=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),t($,{class:"text-weight-bold"},{default:l(()=>[m(i(e.$t("Store Hours")),1)]),_:1})]),_:1}),t(g)]),_:1},8,["class"]),t(T,{class:y([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode,"flex flex-center":!d.loading&&!h.hasData},"q-pa-md"])},{default:l(()=>[d.loading?(r(),f(H,{key:0,showing:!0,color:"primary",size:"md"})):(r(),u(p,{key:1},[h.hasData?(r(),u(p,{key:0},[s("div",O,[s("div",P,i(e.$t("Manage Hoursx")),1),h.hasData2?(r(),f(c,{key:0,label:d.edit?this.$t("Done"):this.$t("Edit"),flat:"","no-caps":"",color:"primary",onClick:a[1]||(a[1]=o=>d.edit=!d.edit)},null,8,["label"])):k("",!0)]),t(g,{class:"q-mb-lg"}),s("div",L,[(r(!0),u(p,null,w(d.data,o=>(r(),u("div",{class:"col-5 relative-position",key:o},[d.edit?(r(),f(c,{key:0,round:"",color:e.$q.dark.mode?"grey600":"primary","text-color":e.$q.dark.mode?"grey300":"dark",icon:"las la-trash",dense:"",unelevated:"",size:"sm",class:"absolute-top-right z-tap",style:{top:"-10px",right:"-10px"},onClick:Y=>h.confirmDelete(o,e.index)},null,8,["color","text-color","onClick"])):k("",!0),t(c,{color:e.$q.dark.mode?"grey600":"mygrey","text-color":e.$q.dark.mode?"grey300":"dark",class:"line-normal radius8 font13",unelevated:"",style:{"min-height":"70px"},"no-caps":"",to:{path:"/restaurant/add-hours",query:{id:o.id}}},{default:l(()=>[s("div",null,i(o.day),1),s("div",N,i(o.opening_hours),1),t(S,{color:o.status=="open"?"yellow":"red","text-color":o.status=="open"?"dark":"white",size:"sm"},{default:l(()=>[m(i(o.status),1)]),_:2},1032,["color","text-color"])]),_:2},1032,["color","text-color","to"])]))),128)),s("div",V,[t(c,{color:"primary","text-color":"white",class:"line-normal radius8 font13",unelevated:"",style:{"min-height":"70px"},"no-caps":"",to:"/restaurant/add-hours"},{default:l(()=>[m(" + "+i(e.$t("Add")),1)]),_:1})])])],64)):(r(),u("div",E,[s("div",R,[s("div",j,i(e.$t("No available data")),1),s("p",I,i(e.$t("You haven't added your store opening hours")),1),t(c,{flat:"","no-caps":"",label:e.$t("Click here to add"),color:"blue",size:"sm",to:"/restaurant/add-hours"},null,8,["label"])])]))],64))]),_:1},8,["class"]),t(v,{ref:"confirm_dialog",data:_.DataStore.data_dialog,onAfterConfirm:h.afterConfirm},null,8,["data","onAfterConfirm"])]),_:1},8,["onRefresh"])}var le=b(A,[["render",F]]);export{le as default};
