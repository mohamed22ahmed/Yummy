import{Q as u}from"./QToolbarTitle.0f4dda99.js";import{Q as d}from"./QSpace.7af5fd36.js";import{_ as m,u as p,A as s,n as f,p as c,q as r,d as e,b7 as h,$ as g,X as y,Y as b,a2 as n,b8 as S,at as _,aQ as Q}from"./index.f6661a24.js";import{Q as w}from"./QToolbar.7bb603c7.js";import{Q as k}from"./QForm.4e86ee71.js";import{u as x}from"./CartStore.4102b575.js";const D={name:"TotalManually",data(){return{loading:!1,dialog:!1,total:0}},setup(){const t=x(),a=p();return{CartStore:t,DataStore:a}},methods:{beforeShow(){this.total=0},onSubmit(){this.loading=!0,s.fetchDataByTokenPost("addTotal","total="+this.total+"&cart_uuid="+this.DataStore.cart_uuid+"&transaction_type="+this.DataStore.cart_transaction_type).then(t=>{s.empty(this.DataStore.cart_uuid)&&(this.DataStore.cart_uuid=t.details.cart_uuid),this.dialog=!1,s.notify("light-green",t.msg,"check_circle",this.$q),this.$emit("afterApplytotal")}).catch(t=>{s.notify("red-5",t,"error_outline",this.$q)}).then(t=>{this.loading=!1})}}};function T(t,a,V,q,l,i){return f(),c(Q,{modelValue:l.dialog,"onUpdate:modelValue":a[2]||(a[2]=o=>l.dialog=o),position:"bottom",class:"rounded-borders-top",onBeforeShow:i.beforeShow},{default:r(()=>[e(h,null,{default:r(()=>[e(w,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:r(()=>[e(u,{class:g(["text-darkx text-weight-bold",{"text-white":t.$q.dark.mode,"text-dark":!t.$q.dark.mode}]),style:{overflow:"inherit"}},{default:r(()=>[y(b(t.$t("Apply Total Manually")),1)]),_:1},8,["class"]),e(d),e(n,{onClick:a[0]||(a[0]=o=>l.dialog=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),e(S,null,{default:r(()=>[e(k,{onSubmit:i.onSubmit},{default:r(()=>[e(_,{modelValue:l.total,"onUpdate:modelValue":a[1]||(a[1]=o=>l.total=o),outlined:"",color:"grey-5",rules:[o=>o&&o.length>0||this.$t("Please enter numbers")],type:"number",step:"any"},null,8,["modelValue","rules"]),e(n,{type:"submit",color:"primary","text-color":"white",label:t.$t("Apply"),unelevated:"",class:"full-width",size:"lg","no-caps":"",loading:l.loading},null,8,["label","loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue","onBeforeShow"])}var M=m(D,[["render",T]]);export{M as default};
