import{Q as k}from"./QToolbarTitle.0f4dda99.js";import{_ as V,u as S,A as p,n as i,p as d,q as r,d as l,b7 as v,$ as g,X as Q,Y as w,a2 as m,b8 as q,a0 as c,F as b,a1 as _,at as u,as as D,a3 as U,aQ as B}from"./index.f6661a24.js";import{Q as C}from"./QToolbar.7bb603c7.js";import{Q as A}from"./QTab.ac26d4d4.js";import{Q as T}from"./QTabs.dbf6b89c.js";import{Q as h}from"./QSpace.7af5fd36.js";import{Q as y}from"./QSelect.4e3956e1.js";import{Q as N}from"./QFooter.4f4f9530.js";import{Q as F}from"./QForm.4e86ee71.js";import{Q as P,a as I}from"./QTabPanels.4520e761.js";import{C as j}from"./ClosePopup.6296f014.js";import"./QResizeObserver.dc10e4c2.js";import"./rtl.276c3f1b.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./format.de7e9769.js";import"./use-panel.05c34725.js";import"./touch.9135741d.js";import"./use-render-cache.3aae9b27.js";const z={name:"SetAccount",data(){return{dialog:!1,tab:"paypal",loading:!1,tab_menu:[{label:this.$t("Paypal"),value:"paypal"},{label:this.$t("Stripe"),value:"stripe"},{label:this.$t("Bank Transfer"),value:"bank"}],email_address:"",account_holder_name:"",account_holder_type:"individual",account_number:"",country:"",currency:"",payment_provider:"",routing_number:"",account_name:"",account_number_iban:"",swift_code:"",bank_name:"",bank_branch:""}},setup(){return{DataStore:S()}},methods:{beforeShow(){this.email_address="",this.account_name="",this.account_number_iban="",this.swift_code="",this.bank_name="",this.bank_branch="",this.account_number="",this.account_holder_name="",this.payment_provider="",this.routing_number="",Object.keys(this.DataStore.payout_settings_data).length>0&&(this.country=this.DataStore.payout_settings_data.default_country,this.currency=this.DataStore.payout_settings_data.default_currency)},onSubmit(){this.loading=!0,p.fetchDataByToken("SetPayoutAccount",{payment_provider:this.tab,email_address:this.email_address,account_number:this.account_number,account_holder_name:this.account_holder_name,account_holder_type:this.account_holder_type,currency:this.currency,country:this.country,routing_number:this.routing_number,account_name:this.account_name,account_number_iban:this.account_number_iban,swift_code:this.swift_code,bank_name:this.bank_name,bank_branch:this.bank_branch}).then(o=>{this.dialog=!1,p.notify("light-green",o.msg,"check_circle",this.$q),this.$emit("afterSetaccount")}).catch(o=>{p.notify("dark",o,"error",this.$q)}).then(o=>{this.loading=!1})}}};function E(o,a,H,s,e,f){return i(),d(B,{modelValue:e.dialog,"onUpdate:modelValue":a[15]||(a[15]=n=>e.dialog=n),position:"bottom",onBeforeShow:f.beforeShow},{default:r(()=>[l(v,{class:"rounded-borders-top"},{default:r(()=>[l(C,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:r(()=>[l(k,{class:g(["text-weight-bold",{"text-white":o.$q.dark.mode,"text-dark":!o.$q.dark.mode}])},{default:r(()=>[Q(w(o.$t("Set your default payout account")),1)]),_:1},8,["class"]),l(m,{onClick:a[0]||(a[0]=n=>e.dialog=!1),square:"",unelevated:"",color:o.$q.dark.mode?"grey600":"white","text-color":o.$q.dark.mode?"grey300":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"},null,8,["color","text-color"])]),_:1}),l(q,null,{default:r(()=>[l(T,{modelValue:e.tab,"onUpdate:modelValue":a[1]||(a[1]=n=>e.tab=n),dense:"","no-caps":"","active-color":"primary","indicator-color":"transparent",align:"justify","narrow-indicator":"",shrink:"","switch-indicator":"false",class:"text-grey"},{default:r(()=>[(i(!0),c(b,null,_(s.DataStore.payout_provider,n=>(i(),d(A,{key:n,name:n.value,"no-caps":"",class:"no-wrap q-pa-none"},{default:r(()=>[l(m,{label:n.label,unelevated:"","no-caps":"",color:e.tab==n.value?"primary":o.$q.dark.mode?"grey600":"mygrey","text-color":e.tab==n.value?"white":o.$q.dark.mode?"grey300":"dark",class:"radius28 q-mr-sm"},null,8,["label","color","text-color"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"]),l(h,{class:"q-pa-xs"}),l(P,{modelValue:e.tab,"onUpdate:modelValue":a[14]||(a[14]=n=>e.tab=n),animated:"","transition-prev":"fade","transition-next":"fade"},{default:r(()=>[(i(!0),c(b,null,_(s.DataStore.payout_provider,n=>(i(),d(I,{key:n,name:n.value,class:"q-pa-none"},{default:r(()=>[l(F,{onSubmit:f.onSubmit,class:"q-gutter-sm",style:{"min-height":"calc(50vh)"}},{default:r(()=>[n.value=="paypal"?(i(),d(u,{key:0,outlined:"",modelValue:e.email_address,"onUpdate:modelValue":a[2]||(a[2]=t=>e.email_address=t),label:o.$t("Email address"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"])):n.value=="stripe"?(i(),c(b,{key:1},[l(u,{outlined:"",modelValue:e.account_number,"onUpdate:modelValue":a[3]||(a[3]=t=>e.account_number=t),label:o.$t("Account number"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(u,{outlined:"",modelValue:e.account_holder_name,"onUpdate:modelValue":a[4]||(a[4]=t=>e.account_holder_name=t),label:o.$t("Account name"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(y,{outlined:"",modelValue:e.account_holder_type,"onUpdate:modelValue":a[5]||(a[5]=t=>e.account_holder_type=t),label:o.$t("Account holder type"),color:"grey-5","stack-label":"",behavior:"dialog","transition-show":"fade","transition-hide":"fade",options:s.DataStore.payout_account_type},null,8,["modelValue","label","options"]),l(y,{outlined:"",modelValue:e.currency,"onUpdate:modelValue":a[6]||(a[6]=t=>e.currency=t),label:o.$t("Currency"),color:"grey-5","stack-label":"",behavior:"dialog","transition-show":"fade","transition-hide":"fade",options:s.DataStore.payout_currency},null,8,["modelValue","label","options"]),l(u,{outlined:"",modelValue:e.routing_number,"onUpdate:modelValue":a[7]||(a[7]=t=>e.routing_number=t),label:o.$t("Routing number"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(y,{outlined:"",modelValue:e.country,"onUpdate:modelValue":a[8]||(a[8]=t=>e.country=t),label:o.$t("Country"),color:"grey-5","stack-label":"",behavior:"dialog","transition-show":"fade","transition-hide":"fade",options:s.DataStore.payout_country},null,8,["modelValue","label","options"])],64)):n.value=="bank"?(i(),c(b,{key:2},[l(u,{outlined:"",modelValue:e.account_name,"onUpdate:modelValue":a[9]||(a[9]=t=>e.account_name=t),label:o.$t("Bank Account Holders Name"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(u,{outlined:"",modelValue:e.account_number_iban,"onUpdate:modelValue":a[10]||(a[10]=t=>e.account_number_iban=t),label:o.$t("Bank Account Number/IBAN"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(u,{outlined:"",modelValue:e.swift_code,"onUpdate:modelValue":a[11]||(a[11]=t=>e.swift_code=t),label:o.$t("SWIFT Code"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(u,{outlined:"",modelValue:e.bank_name,"onUpdate:modelValue":a[12]||(a[12]=t=>e.bank_name=t),label:o.$t("Bank Name in Full"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"]),l(u,{outlined:"",modelValue:e.bank_branch,"onUpdate:modelValue":a[13]||(a[13]=t=>e.bank_branch=t),label:o.$t("Bank Branch City"),"stack-label":"",color:"grey-5"},null,8,["modelValue","label"])],64)):D("",!0),l(h,{class:"q-pa-lg"}),l(N,{class:g(["border-grey-top q-pa-sm row",{transparent:o.$q.dark.mode,"bg-white ":!o.$q.dark.mode}])},{default:r(()=>[U(l(m,{flat:"",label:o.$t("Cancel"),color:o.$q.dark.mode?"grey300":"dark","no-caps":"",class:"col"},null,8,["label","color"]),[[j]]),l(m,{type:"submit",label:o.$t("Submit"),"no-caps":"",flat:"",color:"primary",unelevated:"",class:"col",loading:e.loading},null,8,["label","loading"])]),_:1},8,["class"])]),_:2},1032,["onSubmit"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onBeforeShow"])}var ie=V(z,[["render",E]]);export{ie as default};
