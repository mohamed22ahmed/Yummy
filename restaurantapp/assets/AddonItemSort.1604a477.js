import{_ as b,A as u,m as q,n as o,p as k,q as s,d as r,a2 as f,X as p,Y as l,Z as $,$ as m,a0 as t,F as g,a1 as Q,as as M,ap as c}from"./index.f6661a24.js";import{Q as v}from"./QToolbarTitle.0f4dda99.js";import{Q as w}from"./QToolbar.7bb603c7.js";import{Q as _}from"./QHeader.ba9c2ff9.js";import{Q as A}from"./QInnerLoading.c6ed50f8.js";import{Q as T}from"./QSpace.7af5fd36.js";import{Q as V}from"./QFooter.4f4f9530.js";import{Q as z}from"./QPage.78315ab4.js";import{Q as C}from"./QPullToRefresh.a19885b1.js";import{u as N}from"./MenuStore.420c66e5.js";import{d as B}from"./vuedraggable.umd.e3d19c2e.js";import"./QResizeObserver.dc10e4c2.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";import"./selection.ef67fb9c.js";import"./format.de7e9769.js";import"./vue.runtime.esm-bundler.d5e4d984.js";const I={name:"AddonItemSort",components:{draggable:B},data(){return{loading:!1,id:""}},setup(){return{MenuStore:N()}},created(){this.id=this.$route.query.item_uuid,this.MenuStore.getAddonSort(this.id,null)},methods:{refresh(e){this.MenuStore.getAddonSort(this.id,e)},submit(){this.loading=!0,u.fetchDataByToken("SortAddonItemsSort",{items:this.MenuStore.sort_size_list,id:this.id}).then(e=>{u.notify(this.$q.dark.mode?"grey600":"light-green",e.msg,"check_circle",this.$q)}).catch(e=>{u.notify("dark",e,"error",this.$q)}).then(e=>{this.loading=!1})}}},L={key:1},D=["innerHTML"],F={key:1,class:"text-weight-bold"};function H(e,d,P,a,y,h){const S=q("draggable");return o(),k(C,{onRefresh:h.refresh},{default:s(()=>[r(_,{class:m({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:s(()=>[r(w,null,{default:s(()=>[r(f,{onClick:d[0]||(d[0]=i=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),r(v,{class:"text-weight-bold"},{default:s(()=>[p(l(e.$t("Item addon sort")),1)]),_:1})]),_:1}),r($)]),_:1},8,["class"]),r(z,{class:m([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:s(()=>[a.MenuStore.addonsort_loading?(o(),k(A,{key:0,showing:!0,color:"primary",size:"md"})):(o(),t(g,{key:1},[a.MenuStore.hasAddonSort?(o(),t("p",{key:0,class:m({"text-grey300":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},l(e.$t("Drag the list to sort")),3)):(o(),t("div",L,l(e.$t("No available data")),1)),(o(!0),t(g,null,Q(a.MenuStore.sort_size_list,i=>(o(),t(g,{key:i},[c("div",{class:m(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[a.MenuStore.sort_size[i.size_id]?(o(),t("span",{key:0,class:"text-weight-bold",innerHTML:a.MenuStore.sort_size[i.size_id].size_name},null,8,D)):(o(),t("span",F,l(e.$t("No Size")),1))],2),r(S,{modelValue:i.addoncategory,"onUpdate:modelValue":n=>i.addoncategory=n,"item-key":"value",class:"list-group","ghost-class":"ghost",move:e.checkMove,onStart:d[1]||(d[1]=n=>e.dragging=!0),onEnd:d[2]||(d[2]=n=>e.dragging=!1)},{item:s(({element:n})=>[c("div",{class:m(["list-group-item q-pa-sm cursor-pointer",{"bg-grey600 ":e.$q.dark.mode,"border-grey":!e.$q.dark.mode}])},[a.MenuStore.sort_addon_category[n]?(o(),t(g,{key:0},[p(l(a.MenuStore.sort_addon_category[n].name),1)],64)):(o(),t(g,{key:1},[p(l(e.$t("Name not available")),1)],64))],2)]),_:2},1032,["modelValue","onUpdate:modelValue","move"]),r(T,{class:"q-pa-sm"})],64))),128)),a.MenuStore.hasAddonSort?(o(),k(V,{key:2,class:m(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:s(()=>[r(f,{onClick:h.submit,color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:y.loading},null,8,["onClick","label","loading"])]),_:1},8,["class"])):M("",!0)],64))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var ae=b(I,[["render",H]]);export{ae as default};
