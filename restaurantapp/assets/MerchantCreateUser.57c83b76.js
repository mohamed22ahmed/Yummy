import{_ as c,ay as f,u as _,A as i,m as g,n as d,a0 as m,d as t,q as o,$ as u,F as y,X as w,Y as b,Z as k,ap as V,U as q,p as Q,at as r,ac as n,a2 as C,az as S}from"./index.f6661a24.js";import{Q as T}from"./QToolbarTitle.0f4dda99.js";import{Q as U}from"./QToolbar.7bb603c7.js";import{Q as $}from"./QHeader.ba9c2ff9.js";import{Q as v}from"./QFooter.4f4f9530.js";import{Q as M}from"./QForm.4e86ee71.js";import{Q as P}from"./QPage.78315ab4.js";import"./QResizeObserver.dc10e4c2.js";const z={name:"MerchantCreateUser",components:{MobilePhone:f(()=>S(()=>import("./MobilePhone.f313bcda.js"),["assets/MobilePhone.f313bcda.js","assets/QImg.b7890c8b.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QItemLabel.0d3c2221.js","assets/QSelect.4e3956e1.js","assets/QChip.5b52e54d.js","assets/QMenu.c4f03f28.js","assets/selection.ef67fb9c.js","assets/rtl.276c3f1b.js","assets/format.de7e9769.js"]))},data(){return{loading:!1,loading_get:!1,first_name:"",last_name:"",contact_email:"",username:"",password:"",cpassword:"",phone:[],field_type:"password",field_type2:"password",password_icon:"las la-low-vision",password_icon2:"las la-low-vision",merchant_uuid:""}},setup(){return{DataStore:_()}},watch:{field_type(l,a){l=="text"?this.password_icon="las la-eye":this.password_icon="las la-low-vision"},field_type2(l,a){l=="text"?this.password_icon2="las la-eye":this.password_icon2="las la-low-vision"}},created(){this.merchant_uuid=this.$route.query.uuid,i.empty(this.merchant_uuid)||this.getMerchant()},methods:{afterInput(l){this.phone=l},getMerchant(){this.loading_get=!0,i.fetchDataPost("getMerchant","merchant_uuid="+this.merchant_uuid).then(l=>{}).catch(l=>{i.notify("dark",l,"error",this.$q),this.$router.push("/signup")}).then(l=>{this.loading_get=!1})},onSubmit(){this.loading=!0,i.fetchData("CreateMerchantUser",{merchant_uuid:this.merchant_uuid,first_name:this.first_name,last_name:this.last_name,contact_email:this.contact_email,username:this.username,password:this.password,cpassword:this.cpassword,phone:this.phone}).then(l=>{l.details.redirect=="choose_plan"?this.$router.push({path:"/signup/chooseplan",query:{uuid:l.details.merchant_uuid}}):this.$router.push("/signup/getbacktoyou")}).catch(l=>{i.notify("dark",l,"error",this.$q)}).then(l=>{this.loading=!1})}}},I={key:0},A={class:"flex flex-center full-width"};function D(l,a,x,B,s,p){const h=g("MobilePhone");return d(),m(y,null,[t($,{class:u({"bg-mydark text-white":l.$q.dark.mode,"bg-white text-dark":!l.$q.dark.mode})},{default:o(()=>[t(U,null,{default:o(()=>[t(T,{class:"text-weight-bold"},{default:o(()=>[w(b(l.$t("Create Account")),1)]),_:1})]),_:1}),t(k)]),_:1},8,["class"]),t(P,{class:u(["q-pa-md",{"flex flex-center":s.loading_get}])},{default:o(()=>[s.loading_get?(d(),m("div",I,[V("div",A,[t(q,{color:"primary",size:"2em"})])])):(d(),Q(M,{key:1,onSubmit:p.onSubmit},{default:o(()=>[t(r,{modelValue:s.first_name,"onUpdate:modelValue":a[0]||(a[0]=e=>s.first_name=e),label:l.$t("First name"),outlined:"","stack-label":"",color:"grey-5","lazy-rules":"",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),t(r,{modelValue:s.last_name,"onUpdate:modelValue":a[1]||(a[1]=e=>s.last_name=e),label:l.$t("Last name"),outlined:"","stack-label":"",color:"grey-5","lazy-rules":"",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),t(r,{modelValue:s.contact_email,"onUpdate:modelValue":a[2]||(a[2]=e=>s.contact_email=e),type:"email",label:l.$t("Contact email"),outlined:"","stack-label":"",color:"grey-5","lazy-rules":"",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),t(h,{ref:"mobile_phone",onAfterInput:p.afterInput},null,8,["onAfterInput"]),t(r,{modelValue:s.username,"onUpdate:modelValue":a[3]||(a[3]=e=>s.username=e),label:l.$t("Username"),outlined:"","stack-label":"",color:"grey-5","lazy-rules":"",rules:[e=>e&&e.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),t(r,{modelValue:s.password,"onUpdate:modelValue":a[5]||(a[5]=e=>s.password=e),type:s.field_type,label:l.$t("Password"),outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},{prepend:o(()=>[t(n,{name:"las la-lock",color:"grey"})]),append:o(()=>[t(n,{onClick:a[4]||(a[4]=e=>this.field_type=this.field_type=="password"?"text":"password"),name:s.password_icon,color:"grey",class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","label","rules"]),t(r,{modelValue:s.cpassword,"onUpdate:modelValue":a[7]||(a[7]=e=>s.cpassword=e),type:s.field_type2,label:l.$t("Confirm password"),outlined:"",color:"grey-5",rules:[e=>e&&e.length>0||this.$t("This field is required")]},{prepend:o(()=>[t(n,{name:"las la-lock",color:"grey"})]),append:o(()=>[t(n,{onClick:a[6]||(a[6]=e=>this.field_type2=this.field_type2=="password"?"text":"password"),name:s.password_icon2,color:"grey",class:"cursor-pointer"},null,8,["name"])]),_:1},8,["modelValue","type","label","rules"]),t(v,{class:u(["q-pa-md",{"bg-mydark ":l.$q.dark.mode,"bg-white ":!l.$q.dark.mode}])},{default:o(()=>[t(C,{type:"submit",color:"primary","text-color":"white",label:l.$t("Submit"),unelevated:"",class:"full-width",size:"lg","no-caps":"",loading:s.loading},null,8,["label","loading"])]),_:1},8,["class"])]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var Y=c(z,[["render",D]]);export{Y as default};
