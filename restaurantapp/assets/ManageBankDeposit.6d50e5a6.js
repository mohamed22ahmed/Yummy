import{_ as f,u as c,A as o,n as i,a0 as b,d as r,q as l,$ as m,F as g,a2 as d,X as k,Y as y,Z as Q,p,at as n}from"./index.f6661a24.js";import{Q as q}from"./QToolbarTitle.0f4dda99.js";import{Q as D}from"./QToolbar.7bb603c7.js";import{Q as $}from"./QHeader.ba9c2ff9.js";import{Q as S}from"./QInnerLoading.c6ed50f8.js";import{Q as V}from"./QSpace.7af5fd36.js";import{Q as B}from"./QSelect.4e3956e1.js";import{Q as _}from"./QFooter.4f4f9530.js";import{Q as w}from"./QForm.4e86ee71.js";import{Q as T}from"./QPage.78315ab4.js";import"./QResizeObserver.dc10e4c2.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const A={name:"ReviewManage",components:{},data(){return{id:"",loading:!1,data:[],status:"pending",account_name:"",amount:0,reference_number:""}},setup(){return{DataStore:c()}},mounted(){this.id=this.$route.query.id,o.empty(this.id)||this.getData()},computed:{isEdit(){return!o.empty(this.id)},hasData(){return Object.keys(this.data).length>0},CheckData(){return!o.empty(this.id)&&Object.keys(this.data).length<=0}},methods:{getData(){this.loading=!0,o.fetchDataByTokenPost("getBankDeposit","id="+this.id).then(e=>{this.data=e.details,this.account_name=e.details.account_name,this.amount=e.details.amount,this.reference_number=e.details.reference_number,this.status=e.details.status}).catch(e=>{o.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})},formSubmit(){let e={id:this.id,account_name:this.account_name,amount:this.amount,reference_number:this.reference_number,status:this.status};o.showLoadingBox("",this.$q),o.fetchDataByTokenPost(o.empty(this.id)?"AddBankDeposit":"UpdateBankDeposit",e).then(a=>{o.notify("light-green",a.msg,"check_circle",this.$q),this.$router.replace({path:"/payment/bank_deposit"})}).catch(a=>{o.notify("red-5",a,"error_outline",this.$q)}).then(a=>{o.hideLoadingBox(this.$q)})}}};function C(e,a,U,h,s,u){return i(),b(g,null,[r($,{class:m({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:l(()=>[r(D,null,{default:l(()=>[r(d,{onClick:a[0]||(a[0]=t=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),r(q,{class:"text-weight-bold"},{default:l(()=>[k(y(e.$t("Bank Deposit")),1)]),_:1})]),_:1}),r(Q)]),_:1},8,["class"]),r(T,{class:m([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:l(()=>[s.loading?(i(),p(S,{key:0,showing:!0,color:"primary",size:"md"})):(i(),p(w,{key:1,onSubmit:u.formSubmit},{default:l(()=>[r(n,{modelValue:s.account_name,"onUpdate:modelValue":a[1]||(a[1]=t=>s.account_name=t),label:e.$t("Account name"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),r(n,{modelValue:s.amount,"onUpdate:modelValue":a[2]||(a[2]=t=>s.amount=t),type:"number",step:"any",label:e.$t("Amount"),"stack-label":"",outlined:"",color:"grey-5",rules:[t=>t&&t>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),r(n,{modelValue:s.reference_number,"onUpdate:modelValue":a[3]||(a[3]=t=>s.reference_number=t),label:e.$t("Reference Number"),"stack-label":"",outlined:"",color:"grey-5"},null,8,["modelValue","label"]),r(V,{class:"q-pa-sm"}),r(B,{modelValue:s.status,"onUpdate:modelValue":a[4]||(a[4]=t=>s.status=t),options:h.DataStore.bank_status_list,label:e.$t("Status"),"stack-label":"",behavior:"dialog",outlined:"",color:"grey-5",rules:[t=>t&&t.length>0||this.$t("This field is required")],"emit-value":"","map-options":""},null,8,["modelValue","options","label","rules"]),r(_,null,{default:l(()=>[r(d,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",disable:u.CheckData},null,8,["label","disable"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var G=f(A,[["render",C]]);export{G as default};
