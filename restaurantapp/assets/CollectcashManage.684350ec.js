import{_ as f,A as a,n as s,a0 as h,d as o,q as i,$ as d,F as g,a2 as n,X as b,Y as k,Z as y,p as m,at as u}from"./index.f6661a24.js";import{Q}from"./QToolbarTitle.0f4dda99.js";import{Q as v}from"./QToolbar.7bb603c7.js";import{Q as $}from"./QHeader.ba9c2ff9.js";import{Q as S}from"./QInnerLoading.c6ed50f8.js";import{Q as q}from"./QSelect.4e3956e1.js";import{Q as _}from"./QFooter.4f4f9530.js";import{Q as w}from"./QForm.4e86ee71.js";import{Q as C}from"./QPage.78315ab4.js";import{u as D}from"./DriverStore.21c2c9f6.js";import"./QResizeObserver.dc10e4c2.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const V={name:"CollectcashManage",components:{},data(){return{id:"",data:[],loading:!1,driver_id:"",amount_collected:0,reference_id:""}},setup(e){return{DriverStore:D()}},mounted(){this.DriverStore.DriverList()},computed:{isEdit(){return!a.empty(this.id)},hasData(){return Object.keys(this.data).length>0}},methods:{formSubmit(){let e={id:this.id,driver_id:this.driver_id,amount_collected:this.amount_collected,reference_id:this.reference_id};a.showLoadingBox("",this.$q),a.fetchDataByTokenPost(a.empty(this.id)?"AddCollectCash":"UpdateCollectCash",e).then(t=>{a.notify("light-green",t.msg,"check_circle",this.$q),this.$router.replace({path:"/delivery-management/collect-cash"})}).catch(t=>{a.notify("red-5",t,"error_outline",this.$q)}).then(t=>{a.hideLoadingBox(this.$q)})}}};function B(e,t,T,p,l,c){return s(),h(g,null,[o($,{class:d({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:i(()=>[o(v,null,{default:i(()=>[o(n,{onClick:t[0]||(t[0]=r=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),o(Q,{class:"text-weight-bold"},{default:i(()=>[b(k(e.$t("Collect Cash")),1)]),_:1})]),_:1}),o(y)]),_:1},8,["class"]),o(C,{class:d([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:i(()=>[l.loading?(s(),m(S,{key:0,showing:!0,color:"primary",size:"md"})):(s(),m(w,{key:1,onSubmit:c.formSubmit},{default:i(()=>[o(q,{modelValue:l.driver_id,"onUpdate:modelValue":t[1]||(t[1]=r=>l.driver_id=r),label:e.$t("Select Driver"),options:p.DriverStore.getDriverList,"stack-label":"",behavior:"dialog",outlined:"",color:"grey-5","emit-value":"","map-options":"",rules:[r=>r&&r>0||this.$t("This field is required")]},null,8,["modelValue","label","options","rules"]),o(u,{modelValue:l.amount_collected,"onUpdate:modelValue":t[2]||(t[2]=r=>l.amount_collected=r),type:"number",step:"any",label:e.$t("Amount"),"stack-label":"",outlined:"",color:"grey-5",rules:[r=>r&&r>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),o(u,{modelValue:l.reference_id,"onUpdate:modelValue":t[3]||(t[3]=r=>l.reference_id=r),label:e.$t("Reference"),"stack-label":"",outlined:"",autogrow:"",color:"grey-5"},null,8,["modelValue","label"]),o(_,null,{default:i(()=>[o(n,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":""},null,8,["label"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var Z=f(V,[["render",B]]);export{Z as default};
