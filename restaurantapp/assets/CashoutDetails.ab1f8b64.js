import{Q as k}from"./QInnerLoading.c6ed50f8.js";import{Q as C}from"./QToolbarTitle.0f4dda99.js";import{Q as y}from"./QSpace.7af5fd36.js";import{_ as $,A as u,n as r,p as g,q as e,d as a,b7 as q,a0 as c,F as b,$ as v,X as i,Y as s,a2 as p,b8 as Q,ap as o,a4 as h,a5 as f,Z as P,dc as w,a3 as B,as as D,aQ as S}from"./index.f6661a24.js";import{Q as N}from"./QToolbar.7bb603c7.js";import{Q as l}from"./QItemLabel.0d3c2221.js";import{Q as T}from"./QList.16ddb51a.js";import{C as z}from"./ClosePopup.6296f014.js";const A={name:"CashoutDetails",data(){return{dialog:!1,loading:!1,merchant:[],provider:[],transaction_uuid:"",transaction_type:"cashout"}},setup(){return{}},computed:{hasData(){return Object.keys(this.data).length>0},CanChangeStatus(){return!(Object.keys(this.data).length>0&&(console.log(this.data.status),this.data.status=="unpaid"))}},methods:{getPayoutDetails(t){this.transaction_uuid=t,this.dialog=!0,this.loading=!0,u.fetchDataByTokenPost("getPayoutDetails","transaction_uuid="+this.transaction_uuid).then(n=>{this.data=n.details.data,this.merchant=n.details.merchant,this.provider=n.details.provider}).catch(n=>{u.notify("red-5",n,"error_outline",this.$q)}).then(n=>{this.loading=!1})},confirmCancelPayout(){this.$q.dialog({title:this.$t("Cancel Payout"),message:this.$t("are you sure?"),transitionShow:"fade",transitionHide:"fade",cancel:!0,ok:{unelevated:!0,color:"primary",rounded:!1,"text-color":"white",size:"md",label:this.$t("Confirm"),"no-caps":!0},cancel:{unelevated:!0,color:"dark",rounded:!1,outline:!0,size:"md",label:this.$t("Cancel"),"no-caps":!0}}).onOk(()=>{this.cancelPayout()})},cancelPayout(){this.$q.loading.show({spinnerSize:30,spinnerColor:"primary"}),u.fetchDataByTokenPost("cancelPayout","transaction_uuid="+this.transaction_uuid+"&transaction_type="+this.transaction_type).then(t=>{this.dialog=!1,this.$emit("afterCancelpayout")}).catch(t=>{u.notify("red-5",t,"error_outline",this.$q)}).then(t=>{this.$q.loading.hide()})},payoutPaid(){this.$q.loading.show({spinnerSize:30,spinnerColor:"primary"}),u.fetchDataByTokenPost("payoutPaid","transaction_uuid="+this.transaction_uuid+"&transaction_type="+this.transaction_type).then(t=>{this.dialog=!1,this.$emit("afterUpdate")}).catch(t=>{u.notify("red-5",t,"error_outline",this.$q)}).then(t=>{this.$q.loading.hide()})}}},I={key:0,style:{"min-height":"50vh"}},V={key:0,class:"flex flex-center",style:{"min-height":"calc(50vh)","max-height":"50vh"}},F={class:"text-grey"},x={class:"row"},L={class:"col"},O={class:"text-caption text-grey"},j={class:"text-subtitle1"},H={class:"col"},M={class:"text-caption text-grey"},U={class:"text-subtitle1"},E={class:"row"},W={class:"col"},X={class:"text-caption text-grey"},Y={class:"text-subtitle1"},Z={class:"col"},G={class:"text-caption text-grey"},J={class:"text-subtitle1 font12"};function K(t,n,R,tt,d,m){return r(),g(S,{modelValue:d.dialog,"onUpdate:modelValue":n[1]||(n[1]=_=>d.dialog=_),class:"rounded-borders-top",onBeforeShow:t.beforeShow,persistent:"",position:"bottom","transition-show":"fade"},{default:e(()=>[a(q,null,{default:e(()=>[d.loading?(r(),c("div",I,[a(k,{showing:!0,size:"md",color:"primary"})])):(r(),c(b,{key:1},[a(N,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:e(()=>[a(C,{class:v(["text-darkx text-weight-bold",{"text-white":t.$q.dark.mode,"text-dark":!t.$q.dark.mode}]),style:{overflow:"inherit"}},{default:e(()=>[i(s(t.$t("Cashout Details")),1)]),_:1},8,["class"]),a(y),a(p,{onClick:n[0]||(n[0]=_=>d.dialog=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),a(Q,{class:"q-pt-none"},{default:e(()=>[m.hasData?(r(),c("div",{key:1,class:v(["bg-grey-1x q-pa-sm radius8",{"bg-grey600 text-white":t.$q.dark.mode,"bg-grey-1":!t.$q.dark.mode}])},[o("div",x,[o("div",L,[o("div",O,s(t.$t("Amount")),1),o("div",j,s(t.data.transaction_amount),1)]),o("div",H,[o("div",M,s(t.$t("Merchant")),1),o("div",U,s(d.merchant.restaurant_name),1)])]),o("div",E,[o("div",W,[o("div",X,s(t.$t("Payment Method")),1),o("div",Y,s(d.provider.payment_name),1)]),o("div",Z,[o("div",G,s(t.$t("Date requested")),1),o("div",J,s(t.data.transaction_date),1)])])],2)):(r(),c("div",V,[o("div",F,s(t.$t("No data available")),1)]))]),_:1}),m.hasData?(r(),c(b,{key:0},[a(T,{separator:""},{default:e(()=>[a(h,null,{default:e(()=>[a(f,null,{default:e(()=>[a(l,null,{default:e(()=>[i(s(t.$t("Account Holders Name")),1)]),_:1}),a(l,{caption:""},{default:e(()=>[i(s(t.data.account_name),1)]),_:1})]),_:1})]),_:1}),a(h,null,{default:e(()=>[a(f,null,{default:e(()=>[a(l,null,{default:e(()=>[i(s(t.$t("Bank Account Number/IBAN")),1)]),_:1}),a(l,{caption:""},{default:e(()=>[i(s(t.data.account_number_iban),1)]),_:1})]),_:1})]),_:1}),a(h,null,{default:e(()=>[a(f,null,{default:e(()=>[a(l,null,{default:e(()=>[i(s(t.$t("SWIFT Code")),1)]),_:1}),a(l,{caption:""},{default:e(()=>[i(s(t.data.account_number_iban),1)]),_:1})]),_:1})]),_:1}),a(h,null,{default:e(()=>[a(f,null,{default:e(()=>[a(l,null,{default:e(()=>[i(s(t.$t("Bank Name in Full")),1)]),_:1}),a(l,{caption:""},{default:e(()=>[i(s(t.data.bank_name),1)]),_:1})]),_:1})]),_:1}),a(h,null,{default:e(()=>[a(f,null,{default:e(()=>[a(l,null,{default:e(()=>[i(s(t.$t("Bank Branch City")),1)]),_:1}),a(l,{caption:""},{default:e(()=>[i(s(t.data.bank_branch),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(y,{class:"q-pa-sm"}),a(P),a(w,{align:"right",class:"q-pt-md q-pb-md"},{default:e(()=>[B((r(),g(p,{rounded:"",color:"dark","no-caps":"",unelevated:""},{default:e(()=>[i(s(t.$t("Close")),1)]),_:1})),[[z]]),a(p,{rounded:"",color:"amber","no-caps":"",unelevated:"",disable:t.data.status!="unpaid",onClick:m.confirmCancelPayout},{default:e(()=>[i(s(t.$t("Cancel Payout")),1)]),_:1},8,["disable","onClick"]),a(p,{rounded:"",color:"green","no-caps":"",unelevated:"",disable:t.data.status!="unpaid",onClick:m.payoutPaid},{default:e(()=>[i(s(t.$t("Set to Paid")),1)]),_:1},8,["disable","onClick"])]),_:1})],64)):D("",!0)],64))]),_:1})]),_:1},8,["modelValue","onBeforeShow"])}var dt=$(A,[["render",K]]);export{dt as default};
