import{Q as k}from"./QToolbarTitle.0f4dda99.js";import{Q as b}from"./QToolbar.7bb603c7.js";import{_ as y,A as i,n as r,a0 as d,d as a,q as e,$ as m,F as h,X as n,Y as o,Z as v,ap as g,U as x,p as _,a1 as P,a2 as S,a3 as w,a4 as q,a5 as u,a7 as V,a8 as $}from"./index.f6661a24.js";import{Q as B}from"./QHeader.ba9c2ff9.js";import{Q as f}from"./QItemLabel.0d3c2221.js";import{Q as C}from"./QList.16ddb51a.js";import{Q as F}from"./QFooter.4f4f9530.js";import{Q as I}from"./QForm.4e86ee71.js";import{Q as T}from"./QPage.78315ab4.js";import"./QResizeObserver.dc10e4c2.js";const z={name:"ChoosePlan",data(){return{loading:!1,loading_get:!1,data:[],plan_details:[],package_id:""}},created(){this.merchant_uuid=this.$route.query.uuid,i.empty(this.merchant_uuid)||this.getMerchant()},computed:{hasPackage(){return!!i.empty(this.package_id)}},methods:{getMerchant(){this.loading_get=!0,i.fetchDataPost("getPlan","merchant_uuid="+this.merchant_uuid).then(t=>{this.data=t.details.data,this.plan_details=t.details.plan_details}).catch(t=>{i.notify("dark",t,"error",this.$q),this.$router.push("/signup")}).then(t=>{this.loading_get=!1})},onSubmit(){this.$router.push({path:"/signup/choose-payment",query:{package_uuid:this.package_id,uuid:this.merchant_uuid}})}}},D={key:0},L={class:"flex flex-center full-width"},N=g("div",{class:"border-grey-top"},null,-1);function A(t,c,M,R,s,p){return r(),d(h,null,[a(B,{class:m({"bg-mydark text-white":t.$q.dark.mode,"bg-white text-dark":!t.$q.dark.mode})},{default:e(()=>[a(b,null,{default:e(()=>[a(k,{class:"text-weight-bold"},{default:e(()=>[n(o(t.$t("Subscription Plans")),1)]),_:1})]),_:1}),a(v)]),_:1},8,["class"]),a(T,{class:m({"flex flex-center":s.loading_get})},{default:e(()=>[s.loading_get?(r(),d("div",D,[g("div",L,[a(x,{color:"primary",size:"2em"})])])):(r(),_(I,{key:1,onSubmit:p.onSubmit},{default:e(()=>[a(C,{separator:""},{default:e(()=>[(r(!0),d(h,null,P(s.data,l=>w((r(),_(q,{key:l,tag:"label"},{default:e(()=>[a(u,{avatar:""},{default:e(()=>[a(V,{modelValue:s.package_id,"onUpdate:modelValue":c[0]||(c[0]=Q=>s.package_id=Q),val:l.package_uuid},null,8,["modelValue","val"])]),_:2},1024),a(u,null,{default:e(()=>[a(f,null,{default:e(()=>[n(o(l.title),1)]),_:2},1024)]),_:2},1024),a(u,{side:""},{default:e(()=>[a(f,{caption:""},{default:e(()=>[n(o(l.price)+" / "+o(l.package_period),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),[[$]])),128))]),_:1}),N,a(F,{class:"transparent q-pa-md"},{default:e(()=>[a(S,{type:"submit",color:"primary","text-color":"white",label:t.$t("Continue"),unelevated:"",class:"full-width",size:"lg","no-caps":"",disable:p.hasPackage},null,8,["label","disable"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var O=y(z,[["render",A]]);export{O as default};
