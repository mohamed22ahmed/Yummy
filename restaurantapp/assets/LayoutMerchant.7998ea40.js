import{_ as $,b4 as y,ay as c,u as C,m as i,n as s,p as n,q as t,d as o,ar as _,a0 as p,a2 as m,X as Q,Y as S,as as w,F as h,$ as d,az as f}from"./index.f6661a24.js";import{Q as v}from"./QToolbarTitle.0f4dda99.js";import{Q as V}from"./QCircularProgress.24399868.js";import{Q as P}from"./QBadge.04d2c306.js";import{Q as D}from"./QToolbar.7bb603c7.js";import{Q as T}from"./QHeader.ba9c2ff9.js";import{Q as q}from"./QDrawer.1d0cae36.js";import{Q as r}from"./QRouteTab.d83b202f.js";import{Q as O}from"./QTabs.dbf6b89c.js";import{Q as B}from"./QFooter.4f4f9530.js";import{Q as z,a as A}from"./QLayout.76694082.js";import{u as L}from"./SearchStore.94d8f2ae.js";import{u as N}from"./CartStore.4102b575.js";import"./format.de7e9769.js";import"./QResizeObserver.dc10e4c2.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";const E=y({name:"LayoutPromo",components:{NotiButton:c(()=>f(()=>import("./NotiButton.02050c44.js"),["assets/NotiButton.02050c44.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QBadge.04d2c306.js","assets/index.9e157228.js","assets/UserStore.3896d23d.js"])),PosCart:c(()=>f(()=>import("./PosCart.7b035129.js"),["assets/PosCart.7b035129.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QBadge.04d2c306.js","assets/QSpace.7af5fd36.js","assets/QBtnToggle.b6d48c98.js","assets/QImg.b7890c8b.js","assets/QItemLabel.0d3c2221.js","assets/QList.16ddb51a.js","assets/QPopupProxy.98b4d203.js","assets/QMenu.c4f03f28.js","assets/selection.ef67fb9c.js","assets/QAjaxBar.7cecf3ab.js","assets/format.de7e9769.js","assets/CartStore.4102b575.js"]))},setup(){const e=C(),a=L(),u=N();return{DataStore:e,SearchStore:a,CartStore:u}},data(){return{online:!0,tab:"home",loading:!1,path:""}},created(){this.$q.dark.set(this.DataStore.dark_mode),this.path=this.$route.path},updated(){this.path=this.$route.path},methods:{searchPage(){switch(console.log(this.$route.path),this.$route.path){case"/pos/on-hold":this.$router.push("/pos-order/search-on-hold");break;case"/pos/list":this.$router.push("/search");break;default:this.DataStore.search_item="",this.$router.push("/search/food");break}},setOnline(){let e=this.online?"Confirm Going Online":"Confirm Going Offline",a=this.online?this.$t("Are you sure you want to take your business online and start accepting orders again?"):this.$t("Are you sure you want to take your business offline temporarily? This will prevent new orders from coming in. Your current orders will still be processed.");this.$q.dialog({title:this.$t(e),message:a,cancel:!0,persistent:!0,ok:{color:"dark",flat:!0,"no-caps":!0,label:this.$t("Confirm")},cancel:{color:"primary",flat:!0,"no-caps":!0,label:this.$t("Cancel")}}).onOk(()=>{this.DataStore.setStoreAvailable(this.online)}).onCancel(()=>{this.online=!this.online}).onDismiss(()=>{})}}});function F(e,a,u,U,H,I){const b=i("NotiButton"),g=i("PosCart"),k=i("router-view");return s(),n(z,{view:"lHh Lpr lFf"},{default:t(()=>[o(T,{class:d({"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"10"},{default:t(()=>[o(D,null,{default:t(()=>[o(_,{modelValue:e.online,"onUpdate:modelValue":[a[0]||(a[0]=l=>e.online=l),e.setOnline],color:"primary",label:e.$t("Online")},null,8,["modelValue","label","onUpdate:modelValue"]),o(v),e.path=="/pos/create"?(s(),p(h,{key:0},[o(m,{round:"",color:"grey",icon:"search",flat:"",onClick:e.searchPage,class:"q-mr-sm"},null,8,["onClick"]),e.CartStore.cart_loading?(s(),n(V,{key:0,rounded:"",value:61,size:"18px",color:"primary",indeterminate:""})):(s(),n(m,{key:1,dense:"",color:"purple",round:"",icon:"las la-shopping-cart",unelevated:"",onClick:a[1]||(a[1]=l=>e.CartStore.cart_drawer=!e.CartStore.cart_drawer)},{default:t(()=>[e.CartStore.hasData?(s(),n(P,{key:0,color:"red",rounded:"",floating:""},{default:t(()=>[Q(S(e.CartStore.getCartCount),1)]),_:1})):w("",!0)]),_:1}))],64)):(s(),p(h,{key:1},[o(b),o(m,{round:"",color:"grey",icon:"search",flat:"",onClick:e.searchPage},null,8,["onClick"])],64))]),_:1})]),_:1},8,["class"]),o(q,{modelValue:e.CartStore.cart_drawer,"onUpdate:modelValue":a[2]||(a[2]=l=>e.CartStore.cart_drawer=l),side:"right",overlay:"",behavior:"mobile",width:250,dark:""},{default:t(()=>[o(g,{ref:"cart"},null,512)]),_:1},8,["modelValue"]),o(B,{bordered:"",class:"bg-white text-dark modified-footer"},{default:t(()=>[o(O,{modelValue:e.tab,"onUpdate:modelValue":a[3]||(a[3]=l=>e.tab=l),dense:"","indicator-color":"transparent","active-color":"secondary",align:"justify",class:d({"bg-mydark text-white":e.$q.dark.mode,"text-dark":!e.$q.dark.mode})},{default:t(()=>[o(r,{name:"home",icon:"las la-home",label:e.$t("Home"),"no-caps":"",to:"/dashboard",class:"routertab_small"},null,8,["label"]),o(r,{name:"information",icon:"o_storefront",label:e.$t("Information"),"no-caps":"",to:"/merchant",class:"routertab_small"},null,8,["label"]),o(r,{name:"login",icon:"o_account_circle",label:e.$t("Login"),"no-caps":"",to:"/merchant/login",class:"routertab_small"},null,8,["label"]),o(r,{name:"address",icon:"o_place",label:e.$t("Address"),"no-caps":"",to:"/merchant/address",class:"routertab_small"},null,8,["label"]),o(r,{name:"settings",icon:"o_settings",label:e.$t("Settings"),"no-caps":"",to:"/merchant/settings",class:"routertab_small"},null,8,["label"]),o(r,{name:"timezone",icon:"o_today",label:e.$t("Time Zone"),"no-caps":"",to:"/merchant/timezone",class:"routertab_small"},null,8,["label"]),o(r,{name:"store_hours",icon:"o_schedule",label:e.$t("Openings"),"no-caps":"",to:"/merchant/store-hours",class:"routertab_small"},null,8,["label"]),o(r,{name:"zone",icon:"o_map",label:e.$t("Zone"),"no-caps":"",to:"/merchant/zone",class:"routertab_small"},null,8,["label"])]),_:1},8,["modelValue","class"])]),_:1}),o(A,{class:d({"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode})},{default:t(()=>[o(k)]),_:1},8,["class"])]),_:1})}var ie=$(E,[["render",F]]);export{ie as default};
