import{_ as p,ay as n,az as s,u as f,m as i,n as c,a0 as _,d as o,q as l,p as h,S as v,as as A,a2 as R,F as y}from"./index.f6661a24.js";import{Q as g}from"./QBadge.04d2c306.js";import{L as E}from"./index.9e157228.js";import{u as C}from"./UserStore.3896d23d.js";const D={name:"NotiButton",components:{ComponentsRealtime:n(()=>s(()=>import("./ComponentsRealtime.f58d9341.js"),["assets/ComponentsRealtime.f58d9341.js","assets/index.4f152a18.js","assets/index.f6661a24.js","assets/index.1593f83d.css"])),PrinterAuto:n(()=>s(()=>import("./PrinterAuto.7d68e09f.js"),["assets/PrinterAuto.7d68e09f.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QToolbarTitle.0f4dda99.js","assets/QSpace.7af5fd36.js","assets/QToolbar.7bb603c7.js","assets/UserStore.3896d23d.js","assets/PrintTemplate.1e180354.js","assets/AppBluetooth.bdfa691f.js"]))},data(){return{data:[]}},setup(e){const t=f(),a=C();return{DataStore:t,UserStore:a}},computed:{hasData(){return Object.keys(this.data).length>0}},created(){},methods:{afterReceive(e){this.data=e,console.log("AFTER RECEIVE DATA"),console.log(JSON.stringify(e)),this.UserStore.data_push_receive=e,this.DataStore.local_notification&&this.playLocalNotification(e)},playLocalNotification(e){const t=Math.floor(Math.random()*1e4)+1;E.schedule({notifications:[{title:e.message,body:"",id:t}]})}}};function N(e,t,a,S,m,r){const d=i("ComponentsRealtime"),u=i("PrinterAuto");return c(),_(y,null,[o(R,{to:"/notifications",flat:"",round:"",dense:"",icon:"las la-bell",color:e.$q.dark.mode?"white":"dark"},{default:l(()=>[r.hasData?(c(),h(v,{key:0,appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:l(()=>[o(g,{floating:"",color:"primary2",rounded:"",style:{top:"2px"}})]),_:1})):A("",!0)]),_:1},8,["color"]),o(d,{ref:"realtime",getevent:"notification_event",onAfterReceive:r.afterReceive},null,8,["onAfterReceive"]),o(u,{ref:"printer_auto",data:m.data},null,8,["data"])],64)}var I=p(D,[["render",N]]);export{I as default};
