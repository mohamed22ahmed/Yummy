import{_ as v,ay as w,u as x,A as k,m as D,n as o,p as m,q as r,d as a,a2 as _,X as c,Y as s,Z as C,$ as g,ap as n,at as T,ac as B,as as f,a0 as d,F as h,a1 as V,az as I,a4 as R,a5 as y}from"./index.f6661a24.js";import{Q as N}from"./QToolbarTitle.0f4dda99.js";import{Q as P}from"./QToolbar.7bb603c7.js";import{Q as L}from"./QHeader.ba9c2ff9.js";import{Q as b}from"./QSpace.7af5fd36.js";import{Q}from"./QBadge.04d2c306.js";import{Q as p}from"./QItemLabel.0d3c2221.js";import{Q as A}from"./QList.16ddb51a.js";import{Q as E}from"./QPage.78315ab4.js";import{Q as z}from"./QPullToRefresh.a19885b1.js";import{u as F}from"./SearchStore.94d8f2ae.js";import"./QResizeObserver.dc10e4c2.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";import"./selection.ef67fb9c.js";import"./format.de7e9769.js";const j={name:"SearchBooking",components:{TableSkeleton:w(()=>I(()=>import("./TableSkeleton.a40b3052.js"),["assets/TableSkeleton.a40b3052.js","assets/QSkeleton.e9a2b7df.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QItemLabel.0d3c2221.js","assets/QList.16ddb51a.js"]))},setup(){const e=F(),i=x();return{SearchStore:e,DataStore:i}},data(){return{q:"",loading:!1}},created(){this.SearchStore.data=""},computed:{hasSearch(){return!k.empty(this.q)}},methods:{refresh(e){this.clearSearch(),e()},clearSearch(){this.SearchStore.is_submit=!1,this.q="",this.SearchStore.data=[]},doSearch(){this.loading=!0,this.SearchStore.data=[],this.SearchStore.status=[],this.SearchStore.is_submit=!0,k.fetchDataByTokenPost("tableRoomList","q="+this.q).then(e=>{this.SearchStore.data=e.details.data}).catch(e=>{}).then(e=>{this.loading=!1})}}},H={class:"q-pa-md full-width"},O={class:"flex flex-center text-center"},U={class:"radius8 bg-green-10 text-white q-pa-xs text-center q-pl-sm q-pr-sm"},X={class:"font14 text-weight-bold"},Y={key:1,class:"text-grey"},Z={key:0,class:"full-width text-center"},G={key:1,class:"full-width text-center"},J={class:"text-weight-bold"},K={class:"text-weight-light text-grey"};function M(e,i,W,l,u,S){const q=D("TableSkeleton");return o(),m(z,{onRefresh:S.refresh},{default:r(()=>[a(L,{class:g({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"50"},{default:r(()=>[a(P,null,{default:r(()=>[a(_,{onClick:i[0]||(i[0]=t=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(N,{class:"text-weight-bold"},{default:r(()=>[c(s(e.$t("Search Rooms")),1)]),_:1})]),_:1}),a(C)]),_:1},8,["class"]),a(E,{class:g([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"flex justify-start"])},{default:r(()=>[n("div",H,[a(T,{outlined:"",modelValue:u.q,"onUpdate:modelValue":i[1]||(i[1]=t=>u.q=t),label:e.$t("Search"),color:"grey-5"},{append:r(()=>[l.SearchStore.hasData?(o(),m(B,{key:0,class:"cursor-pointer",name:"close",color:"grey",onClick:S.clearSearch},null,8,["onClick"])):f("",!0),l.SearchStore.hasData?f("",!0):(o(),m(_,{key:1,icon:"search",unelevated:"",color:"dark-grey","no-caps":"",loading:u.loading,round:"",flat:"",onClick:S.doSearch,disable:!S.hasSearch},null,8,["loading","onClick","disable"]))]),_:1},8,["modelValue","label"]),l.SearchStore.hasData?(o(),d(h,{key:0},[a(b,{class:"q-mt-md"}),a(A,{separator:""},{default:r(()=>[(o(!0),d(h,null,V(l.SearchStore.data,t=>(o(),m(R,{key:t,clickable:"",to:{path:"/tables/rooms_update",query:{id:t.room_uuid}}},{default:r(()=>[a(y,{avatar:"",top:""},{default:r(()=>[n("div",O,[n("div",null,[n("div",U,[n("div",X," #"+s(t.room_id),1)]),a(b,{class:"q-pa-xs"}),a(_,{dense:"",color:`green-12
`,round:"",icon:"las la-users",unelevated:""},{default:r(()=>[a(Q,{color:"primary",floating:""},{default:r(()=>[c(s(t.total_tables),1)]),_:2},1024)]),_:2},1024)])])]),_:2},1024),a(y,{top:""},{default:r(()=>[a(p,{class:"text-dark"},{default:r(()=>[c(s(t.room_name)+" ",1),a(Q,{color:l.DataStore.status_color[t.status]?l.DataStore.status_color[t.status]:"amber"},{default:r(()=>[l.DataStore.status_list_raw[t.status]?(o(),d(h,{key:0},[c(s(l.DataStore.status_list_raw[t.status]),1)],64)):(o(),d(h,{key:1},[c(s(t.status),1)],64))]),_:2},1032,["color"])]),_:2},1024),a(p,{class:"text-dark"},{default:r(()=>[t.capacity?(o(),d(h,{key:0},[c(s(t.capacity),1)],64)):(o(),d("span",Y,s(e.$t("None")),1))]),_:2},1024),a(p,{caption:"",class:"font12"},{default:r(()=>[c(s(t.date_created),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})],64)):f("",!0),u.loading?(o(),m(q,{key:1,rows:10})):f("",!0)]),l.SearchStore.is_submit?(o(),d("div",G,[!l.SearchStore.hasData&&!u.loading?(o(),d(h,{key:0},[n("div",J,s(e.$t("No data available")),1),n("div",K,s(e.$t("Sorry, we couldn't find any results")),1)],64)):f("",!0)])):(o(),d("div",Z))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var Se=v(j,[["render",M]]);export{Se as default};
