import{_ as y,u as w,A as i,n as l,a0 as d,d as r,q as s,$ as u,F as n,a2 as m,X as h,Y as p,Z as c,p as f,at as g}from"./index.f6661a24.js";import{Q as $}from"./QToolbarTitle.0f4dda99.js";import{Q as v}from"./QToolbar.7bb603c7.js";import{Q}from"./QHeader.ba9c2ff9.js";import{Q as q}from"./QInnerLoading.c6ed50f8.js";import{Q as D}from"./QSelect.4e3956e1.js";import{Q as S}from"./QFooter.4f4f9530.js";import{Q as V}from"./QForm.4e86ee71.js";import{Q as R}from"./QPage.78315ab4.js";import"./QResizeObserver.dc10e4c2.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const B={name:"ReviewManage",components:{},data(){return{id:"",data:[],loading:!1,zone_name:"",description:""}},setup(){return{DataStore:w()}},mounted(){this.id=this.$route.query.id,i.empty(this.id)||this.getData()},computed:{isEdit(){return!i.empty(this.id)},hasData(){return Object.keys(this.data).length>0},CheckData(){return!i.empty(this.id)&&Object.keys(this.data).length<=0}},methods:{getData(){this.loading=!0,i.fetchDataByTokenPost("getReviewDetails","id="+this.id).then(e=>{this.data=e.details,this.review=e.details.review,this.rating=e.details.rating,this.status=e.details.status}).catch(e=>{i.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})},formSubmit(){let e={id:this.id,review:this.review,rating:this.rating,status:this.status};i.showLoadingBox("",this.$q),i.fetchDataByTokenPost(i.empty(this.id)?"AddReviews":"UpdateReviews",e).then(t=>{i.notify("light-green",t.msg,"check_circle",this.$q),this.$router.replace({path:"/delivery-management/reviews"})}).catch(t=>{i.notify("red-5",t,"error_outline",this.$q)}).then(t=>{i.hideLoadingBox(this.$q)})}}};function T(e,t,C,b,k,o){return l(),d(n,null,[r(Q,{class:u({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:s(()=>[r(v,null,{default:s(()=>[r(m,{onClick:t[0]||(t[0]=a=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),r($,{class:"text-weight-bold"},{default:s(()=>[o.isEdit?(l(),d(n,{key:0},[h(p(e.$t("Update Review")),1)],64)):(l(),d(n,{key:1},[h(p(e.$t("Add Review")),1)],64))]),_:1})]),_:1}),r(c)]),_:1},8,["class"]),r(R,{class:u([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"q-pa-md"])},{default:s(()=>[k.loading?(l(),f(q,{key:0,showing:!0,color:"primary",size:"md"})):(l(),f(V,{key:1,onSubmit:o.formSubmit},{default:s(()=>[r(g,{modelValue:e.review,"onUpdate:modelValue":t[1]||(t[1]=a=>e.review=a),label:e.$t("Review"),"stack-label":"",outlined:"",color:"grey-5",rules:[a=>a&&a.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),r(g,{modelValue:e.rating,"onUpdate:modelValue":t[2]||(t[2]=a=>e.rating=a),type:"number",label:e.$t("Ratings"),"stack-label":"",outlined:"",color:"grey-5",rules:[a=>a&&a>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),r(D,{modelValue:e.status,"onUpdate:modelValue":t[3]||(t[3]=a=>e.status=a),options:b.DataStore.status_list,label:e.$t("Status"),"stack-label":"",behavior:"dialog",outlined:"",color:"grey-5","emit-value":"","map-options":""},null,8,["modelValue","options","label"]),r(S,null,{default:s(()=>[r(m,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",disable:o.CheckData},null,8,["label","disable"])]),_:1})]),_:1},8,["onSubmit"]))]),_:1},8,["class"])],64)}var G=y(B,[["render",T]]);export{G as default};
