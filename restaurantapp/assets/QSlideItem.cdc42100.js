import{T as D}from"./TouchPan.ca911d69.js";import{s as M,O as R,Q as T,r as j,c as C,aL as E,C as L,h as g,x as Q,a3 as _,g as z}from"./index.f6661a24.js";import{u as B}from"./use-render-cache.3aae9b27.js";const x=[["left","center","start","width"],["right","center","end","width"],["top","start","center","height"],["bottom","end","center","height"]];var P=M({name:"QSlideItem",props:{...R,leftColor:String,rightColor:String,topColor:String,bottomColor:String,onSlide:Function},emits:["action","top","right","bottom","left"],setup(f,{slots:n,emit:m}){const{proxy:y}=z(),{$q:b}=y,$=T(f,b),{getCache:S}=B(),p=j(null);let l=null,e={},u={},h={};const d=C(()=>b.lang.rtl===!0?{left:"right",right:"left"}:{left:"left",right:"right"}),k=C(()=>"q-slide-item q-item-type overflow-hidden"+($.value===!0?" q-slide-item--dark q-dark":""));function v(){p.value.style.transform="translate(0,0)"}function w(t,a,r){f.onSlide!==void 0&&m("slide",{side:t,ratio:a,isReset:r})}function q(t){const a=p.value;if(t.isFirst)e={dir:null,size:{left:0,right:0,top:0,bottom:0},scale:0},a.classList.add("no-transition"),x.forEach(i=>{if(n[i[0]]!==void 0){const c=h[i[0]];c.style.transform="scale(1)",e.size[i[0]]=c.getBoundingClientRect()[i[3]]}}),e.axis=t.direction==="up"||t.direction==="down"?"Y":"X";else if(t.isFinal){a.classList.remove("no-transition"),e.scale===1?(a.style.transform=`translate${e.axis}(${e.dir*100}%)`,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,m(e.showing,{reset:v}),m("action",{side:e.showing,reset:v})},230)):(a.style.transform="translate(0,0)",w(e.showing,0,!0));return}else t.direction=e.axis==="X"?t.offset.x<0?"left":"right":t.offset.y<0?"up":"down";if(n.left===void 0&&t.direction===d.value.right||n.right===void 0&&t.direction===d.value.left||n.top===void 0&&t.direction==="down"||n.bottom===void 0&&t.direction==="up"){a.style.transform="translate(0,0)";return}let r,s,o;e.axis==="X"?(s=t.direction==="left"?-1:1,r=s===1?d.value.left:d.value.right,o=t.distance.x):(s=t.direction==="up"?-2:2,r=s===2?"top":"bottom",o=t.distance.y),!(e.dir!==null&&Math.abs(s)!==Math.abs(e.dir))&&(e.dir!==s&&(["left","right","top","bottom"].forEach(i=>{u[i]&&(u[i].style.visibility=r===i?"visible":"hidden")}),e.showing=r,e.dir=s),e.scale=Math.max(0,Math.min(1,(o-40)/e.size[r])),a.style.transform=`translate${e.axis}(${o*s/Math.abs(s)}px)`,h[r].style.transform=`scale(${e.scale})`,w(r,e.scale,!1))}return E(()=>{u={},h={}}),L(()=>{l!==null&&clearTimeout(l)}),Object.assign(y,{reset:v}),()=>{const t=[],a={left:n[d.value.right]!==void 0,right:n[d.value.left]!==void 0,up:n.bottom!==void 0,down:n.top!==void 0},r=Object.keys(a).filter(o=>a[o]===!0);x.forEach(o=>{const i=o[0];n[i]!==void 0&&t.push(g("div",{key:i,ref:c=>{u[i]=c},class:`q-slide-item__${i} absolute-full row no-wrap items-${o[1]} justify-${o[2]}`+(f[i+"Color"]!==void 0?` bg-${f[i+"Color"]}`:"")},[g("div",{ref:c=>{h[i]=c}},n[i]())]))});const s=g("div",{key:`${r.length===0?"only-":""} content`,ref:p,class:"q-slide-item__content"},Q(n.default));return r.length===0?t.push(s):t.push(_(s,S("dir#"+r.join(""),()=>{const o={prevent:!0,stop:!0,mouse:!0};return r.forEach(i=>{o[i]=!0}),[[D,q,void 0,o]]}))),g("div",{class:k.value},t)}}});export{P as Q};
