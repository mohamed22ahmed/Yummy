import{_ as b,ay as m,az as c,A as w,m as u,n as s,p as l,q as a,d as t,b7 as L,$ as f,X as h,Y as g,a2 as n,a0 as y,F as Q,a1 as v,a4 as S,a5 as q,a3 as C,aQ as D}from"./index.f6661a24.js";import{Q as P}from"./QToolbarTitle.0f4dda99.js";import{Q as d}from"./QSpace.7af5fd36.js";import{Q as $}from"./QToolbar.7bb603c7.js";import{Q as x}from"./QList.16ddb51a.js";import{Q as N}from"./QFooter.4f4f9530.js";import{C as T}from"./ClosePopup.6296f014.js";import{u as V}from"./UserStore.3896d23d.js";import"./QResizeObserver.dc10e4c2.js";const A={name:"PrinterList",components:{ListNoData:m(()=>c(()=>import("./ListNoData.572f63b8.js"),["assets/ListNoData.572f63b8.js","assets/index.f6661a24.js","assets/index.1593f83d.css"])),ListLoading:m(()=>c(()=>import("./ListLoading.7df1573a.js"),["assets/ListLoading.7df1573a.js","assets/index.f6661a24.js","assets/index.1593f83d.css"]))},data(){return{loading:!1,dialog:!1,data:[]}},created(){this.printerList()},setup(){return{UserStore:V()}},computed:{hasData(){return Object.keys(this.data).length>0}},methods:{whenShow(){},printerList(){this.loading=!0,w.fetchDataByTokenPost("PrintersList","page="+0+"&device_uuid="+this.UserStore.device_uuid).then(e=>{this.data=e.details.data}).catch(e=>{this.data=[]}).then(e=>{this.loading=!1})}}};function B(e,i,E,I,r,p){const k=u("ListLoading"),_=u("ListNoData");return s(),l(D,{modelValue:r.dialog,"onUpdate:modelValue":i[1]||(i[1]=o=>r.dialog=o),position:"bottom",onShow:p.whenShow,persistent:""},{default:a(()=>[t(L,{class:"rounded-borders-top"},{default:a(()=>[t($,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:a(()=>[t(P,{class:f(["text-darkx text-weight-bold",{"text-white":e.$q.dark.mode,"text-dark":!e.$q.dark.mode}]),style:{overflow:"inherit"}},{default:a(()=>[h(g(e.$t("Printers")),1)]),_:1},8,["class"]),t(d),t(n,{onClick:i[0]||(i[0]=o=>r.dialog=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),r.loading?(s(),l(k,{key:0})):!r.loading&&!p.hasData?(s(),l(_,{key:1,title:e.$t("No available printers"),subtitle:e.$t("new printer will show here")},null,8,["title","subtitle"])):(s(),l(x,{key:2,separator:""},{default:a(()=>[(s(!0),y(Q,null,v(r.data,o=>(s(),l(S,{key:o,clickable:"",onClick:U=>this.$emit("afterSelectprinter",o)},{default:a(()=>[t(q,null,{default:a(()=>[h(g(o.printer_name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})),t(d,{class:"q-pa-lg"}),t(d,{class:"q-pa-xs"}),t(N,{class:f(["border-grey-top q-pa-sm row",{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-black":!e.$q.dark.mode}])},{default:a(()=>[C(t(n,{flat:"",label:e.$t("Cancel"),"text-color":e.$q.dark.mode?"grey300":"dark","no-caps":"",class:"col"},null,8,["label","text-color"]),[[T]]),t(n,{to:"/settings/add-printer",flat:"",label:e.$t("New Printer"),color:"primary","no-caps":"",class:"col"},null,8,["label"])]),_:1},8,["class"])]),_:1})]),_:1},8,["modelValue","onShow"])}var J=b(A,[["render",B]]);export{J as default};
