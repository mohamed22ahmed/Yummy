import{_ as Q,ay as u,A as f,m as k,n as t,p as d,q as o,d as a,a2 as p,X as q,Y as h,Z as w,$ as g,ap as m,at as T,ac as B,as as l,a0 as c,F as _,az as b}from"./index.f6661a24.js";import{Q as C}from"./QToolbarTitle.0f4dda99.js";import{Q as D}from"./QToolbar.7bb603c7.js";import{Q as V}from"./QHeader.ba9c2ff9.js";import{Q as P}from"./QSpace.7af5fd36.js";import{Q as L}from"./QPage.78315ab4.js";import{Q as x}from"./QPullToRefresh.a19885b1.js";import{u as A}from"./SearchStore.94d8f2ae.js";import"./QResizeObserver.dc10e4c2.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";import"./selection.ef67fb9c.js";import"./format.de7e9769.js";const E={name:"SearchBooking",components:{TableBookingList:u(()=>b(()=>import("./TableBookingList.0f46adef.js"),["assets/TableBookingList.0f46adef.js","assets/QSpace.7af5fd36.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QBadge.04d2c306.js","assets/QItemLabel.0d3c2221.js","assets/QList.16ddb51a.js","assets/AccessStore.ca0ffc27.js"])),TableSkeleton:u(()=>b(()=>import("./TableSkeleton.a40b3052.js"),["assets/TableSkeleton.a40b3052.js","assets/QSkeleton.e9a2b7df.js","assets/index.f6661a24.js","assets/index.1593f83d.css","assets/QItemLabel.0d3c2221.js","assets/QList.16ddb51a.js"]))},setup(){return{SearchStore:A()}},data(){return{q:"",loading:!1}},created(){this.SearchStore.data=""},computed:{hasSearch(){return!f.empty(this.q)}},methods:{refresh(e){this.clearSearch(),e()},clearSearch(){this.SearchStore.is_submit=!1,this.q="",this.SearchStore.data=[]},doSearch(){this.loading=!0,this.SearchStore.data=[],this.SearchStore.status=[],this.SearchStore.is_submit=!0,f.fetchDataByTokenPost("reservationList","q="+this.q).then(e=>{this.SearchStore.data.push(e.details.data),this.SearchStore.status=e.details.status_list}).catch(e=>{}).then(e=>{this.loading=!1})}}},I={class:"q-pa-md full-width"},N={key:0,class:"full-width text-center"},R={key:1,class:"full-width text-center"},z={class:"text-weight-bold"},F={class:"text-weight-light text-grey"};function O(e,i,j,r,s,n){const y=k("TableBookingList"),v=k("TableSkeleton");return t(),d(x,{onRefresh:n.refresh},{default:o(()=>[a(V,{class:g({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}),reveal:"","reveal-offset":"50"},{default:o(()=>[a(D,null,{default:o(()=>[a(p,{onClick:i[0]||(i[0]=S=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),a(C,{class:"text-weight-bold"},{default:o(()=>[q(h(e.$t("Search Booking")),1)]),_:1})]),_:1}),a(w)]),_:1},8,["class"]),a(L,{class:g([{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode},"flex justify-start"])},{default:o(()=>[m("div",I,[a(T,{outlined:"",modelValue:s.q,"onUpdate:modelValue":i[1]||(i[1]=S=>s.q=S),label:e.$t("Search"),color:"grey-5"},{append:o(()=>[r.SearchStore.hasData?(t(),d(B,{key:0,class:"cursor-pointer",name:"close",color:"grey",onClick:n.clearSearch},null,8,["onClick"])):l("",!0),r.SearchStore.hasData?l("",!0):(t(),d(p,{key:1,icon:"search",unelevated:"",color:"dark-grey","no-caps":"",loading:s.loading,round:"",flat:"",onClick:n.doSearch,disable:!n.hasSearch},null,8,["loading","onClick","disable"]))]),_:1},8,["modelValue","label"]),r.SearchStore.hasData?(t(),c(_,{key:0},[a(P,{class:"q-mt-md"}),a(y,{data:r.SearchStore.data,status:r.SearchStore.status,onConfirmDelete:e.confirmDelete},null,8,["data","status","onConfirmDelete"])],64)):l("",!0),s.loading?(t(),d(v,{key:1,rows:10})):l("",!0)]),r.SearchStore.is_submit?(t(),c("div",R,[!r.SearchStore.hasData&&!s.loading?(t(),c(_,{key:0},[m("div",z,h(e.$t("No data available")),1),m("div",F,h(e.$t("Sorry, we couldn't find any results")),1)],64)):l("",!0)])):(t(),c("div",N))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var te=Q(E,[["render",O]]);export{te as default};
