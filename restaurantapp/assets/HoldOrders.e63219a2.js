import{Q as f}from"./QToolbarTitle.0f4dda99.js";import{Q as c}from"./QSpace.7af5fd36.js";import{_ as m,u as p,A as l,n as h,p as g,q as s,d as t,b7 as b,$ as _,X as q,Y as d,a2 as n,b8 as S,at as y,ap as i,a3 as w,aQ as Q}from"./index.f6661a24.js";import{Q as C}from"./QToolbar.7bb603c7.js";import{Q as k}from"./QForm.4e86ee71.js";import{C as v}from"./ClosePopup.6296f014.js";import{u as $}from"./CartStore.4102b575.js";const D={name:"HoldOrders",setup(){const e=p(),r=$();return{DataStore:e,CartStore:r}},data(){return{loading:!1,dialog:!1,order_reference:""}},methods:{beforeShow(){this.order_reference=l.empty(this.CartStore.getOrderReference)?"":this.CartStore.getOrderReference},onSubmit(){this.loading=!0,l.fetchDataByTokenPost("applyHoldOrder","order_reference="+this.order_reference+"&cart_uuid="+this.DataStore.cart_uuid).then(e=>{this.dialog=!1,l.notify("light-green",e.msg,"check_circle",this.$q),this.DataStore.place_data=[],this.DataStore.cart_uuid="",this.$emit("afterHoldorders")}).catch(e=>{l.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1})}}},V={class:"text-body2 q-ma-none font12"},x={class:"row fit q-gutter-sm"},B={class:"col"},O={class:"col"};function T(e,r,H,P,a,u){return h(),g(Q,{modelValue:a.dialog,"onUpdate:modelValue":r[2]||(r[2]=o=>a.dialog=o),class:"rounded-borders-top",onBeforeShow:u.beforeShow,"full-width":"",persistent:""},{default:s(()=>[t(b,null,{default:s(()=>[t(C,{class:"text-primary top-toolbar q-pl-md",dense:""},{default:s(()=>[t(f,{class:_(["text-darkx text-weight-bold",{"text-white":e.$q.dark.mode,"text-dark":!e.$q.dark.mode}]),style:{overflow:"inherit"}},{default:s(()=>[q(d(e.$t("Hold Order")),1)]),_:1},8,["class"]),t(c),t(n,{onClick:r[0]||(r[0]=o=>a.dialog=!1),color:"white",square:"",unelevated:"","text-color":"grey",icon:"las la-times",dense:"","no-caps":"",size:"sm",class:"border-grey radius8"})]),_:1}),t(S,null,{default:s(()=>[t(k,{onSubmit:u.onSubmit},{default:s(()=>[t(y,{modelValue:a.order_reference,"onUpdate:modelValue":r[1]||(r[1]=o=>a.order_reference=o),label:e.$t("Order Reference"),"stack-label":"",outlined:"",color:"grey-5",rules:[o=>o&&o.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),i("p",V,d(e.$t("The current order will be set on hold. You can retrieve this order from the pending tabs."))+" "+d(e.$t("Providing a reference to it might help you to identify the order more quickly.")),1),t(c,{class:"q-pa-sm"}),i("div",x,[i("div",B,[w(t(n,{label:e.$t("Cancel"),color:"dark","no-caps":"",unelevated:"",class:"fit radius28 q-pl-lg q-pr-lg q-pt-sm q-pb-sm",style:{height:"40px"}},null,8,["label"]),[[v]])]),i("div",O,[t(n,{type:"submit",color:"green","text-color":"white",label:e.$t("Confirm"),unelevated:"",class:"fit radius28 q-pl-lg q-pr-lg q-pt-sm q-pb-sm",style:{height:"40px"},"no-caps":"",loading:a.loading},null,8,["label","loading"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue","onBeforeShow"])}var F=m(D,[["render",T]]);export{F as default};
