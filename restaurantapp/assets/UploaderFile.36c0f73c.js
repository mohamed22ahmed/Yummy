import{Q as i}from"./QUploader.d12c38b5.js";import{_ as o,dd as r,aq as s,n as d,p}from"./index.f6661a24.js";import"./QCircularProgress.24399868.js";import"./format.de7e9769.js";const n={name:"UploaderFile",data(){return{upload_api:r.api_base_url+"/updateAvatar",url_image:"",filename:"",upload_path:"",title:"",size:""}},methods:{getToken(){return s.getToken()},afterUploaded(a){const e=JSON.parse(a.xhr.responseText);e.code===1?(this.url_image=e.details.url_image,this.filename=e.details.filename,this.upload_path=e.details.upload_path,this.title=e.details.title,this.size=e.details.size,this.$emit("afterUploadfile",{url_image:this.url_image,filename:this.filename,upload_path:this.upload_path,title:this.title,size:this.size})):(this.url_image="",this.filename="",this.upload_path="",APIinterface.notify("dark",e.msg,"error",this.$q))}}};function m(a,e,u,h,t,l){return d(),p(i,{url:t.upload_api,label:a.$t("Upload files"),color:a.$q.dark.mode?"grey600":"mygrey","text-color":a.$q.dark.mode?"grey300":"grey","no-thumbnails":"",class:"full-width q-mb-md",flat:"",accept:".jpg, image/*",bordered:"","max-files":1,"auto-upload":"","max-total-size":"1048576",onRejected:a.onRejectedFiles,headers:[{name:"Authorization",value:`token ${this.getToken()}`}],"field-name":"file",onUploaded:l.afterUploaded,"form-fields":[{name:"upload_path",value:"item"}]},null,8,["url","label","color","text-color","onRejected","headers","onUploaded"])}var k=o(n,[["render",m]]);export{k as default};
