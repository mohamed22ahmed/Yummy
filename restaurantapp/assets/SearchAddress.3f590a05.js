import{_ as f,A as i,n as h,p as _,q as s,d as o,a4 as g,bW as b,cg as A,a5 as c,ac as Q,X as p,Y as u}from"./index.f6661a24.js";import{Q as m}from"./QItemLabel.0d3c2221.js";import{Q as y}from"./QSelect.4e3956e1.js";import"./QChip.5b52e54d.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const P={name:"SearchAddress",props:["placeholder"],data(){return{address:"",address_data:[],options:[],data:[],loading:!1}},methods:{Focus(){this.$refs.select_address.focus()},filterFn(t,e,a){if(t.length<2){a();return}i.fetchDataPost("getlocationAutocomplete","q="+t).then(r=>{e(()=>{this.options=r.details.data})}).catch(r=>{console.debug(r)}).then(r=>{})},selectAddress(t){i.empty(t)||(this.address_data=t,this.address=t.description,i.fetchDataPost("getLocationDetails","place_id="+t.id).then(e=>{const a=e.details.data;i.empty(a.latitude)||this.$emit("afterSelectaddress",a)}).catch(e=>{i.notify("negative",e,"error_outline",this.$q)}).then(e=>{}))}}};function S(t,e,a,r,l,n){return h(),_(y,{modelValue:l.address,"onUpdate:modelValue":[e[0]||(e[0]=d=>l.address=d),n.selectAddress],ref:"select_address","use-input":"","fill-input":"",outlined:"","stack-label":"","input-debounce":"0",options:l.options,onFilter:n.filterFn,color:"grey-5",borderless:"",placeholder:a.placeholder,behavior:"menu","hide-dropdown-icon":"",clearable:""},{option:s(d=>[o(g,b(A(d.itemProps)),{default:s(()=>[o(c,{avatar:"",top:"",style:{"min-width":"auto"}},{default:s(()=>[o(Q,{name:"las la-map-marker"})]),_:1}),o(c,null,{default:s(()=>[o(m,null,{default:s(()=>[p(u(d.opt.description),1)]),_:2},1024),o(m,{caption:""},{default:s(()=>[p(u(d.opt.addressLine2),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onFilter","onUpdate:modelValue","placeholder"])}var L=f(P,[["render",S]]);export{L as default};
