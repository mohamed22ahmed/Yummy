import{_ as b,u as y,A as r,n as u,p as m,q as a,d as o,a2 as c,X as f,Y as i,Z as k,$ as h,ap as d,at as n}from"./index.f6661a24.js";import{Q as v}from"./QToolbarTitle.0f4dda99.js";import{Q as w}from"./QToolbar.7bb603c7.js";import{Q as q}from"./QHeader.ba9c2ff9.js";import{Q}from"./QInnerLoading.c6ed50f8.js";import{Q as V}from"./QSelect.4e3956e1.js";import{Q as $}from"./QFooter.4f4f9530.js";import{Q as _}from"./QForm.4e86ee71.js";import{Q as S}from"./QPage.78315ab4.js";import{Q as D}from"./QPullToRefresh.a19885b1.js";import"./QResizeObserver.dc10e4c2.js";import"./QChip.5b52e54d.js";import"./QItemLabel.0d3c2221.js";import"./QMenu.c4f03f28.js";import"./selection.ef67fb9c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./TouchPan.ca911d69.js";import"./touch.9135741d.js";const T={name:"MerchantAddress",data(){return{loading:!1,loading2:!1,address:"",latitude:"",lontitude:"",delivery_distance_covered:"",distance_unit:""}},setup(e){return{DataStore:y()}},created(){this.getInformation()},methods:{refresh(e){this.getInformation(e)},getInformation(e){this.loading=!0,r.fetchDataByTokenPost("getInformation").then(t=>{this.address=t.details.address,this.latitude=t.details.latitude,this.lontitude=t.details.lontitude,this.delivery_distance_covered=t.details.delivery_distance_covered,this.distance_unit=t.details.distance_unit}).catch(t=>{r.notify("dark",t,"error",this.$q)}).then(t=>{this.loading=!1,r.empty(e)||e()})},onSubmit(){this.loading2=!0,r.fetchDataByToken("saveAddress",{address:this.address,latitude:this.latitude,lontitude:this.lontitude,delivery_distance_covered:this.delivery_distance_covered,distance_unit:this.distance_unit}).then(e=>{r.notify("light-green",e.msg,"check_circle",this.$q)}).catch(e=>{r.notify("dark",e,"error",this.$q)}).then(e=>{this.loading2=!1})}}},z={class:"q-pa-md q-gutter-md"},A={class:"row items-center field-no-bottom"},I={class:"font11 text-grey q-mb-none"},B={class:"text-weight-bold"};function U(e,t,C,g,s,p){return u(),m(D,{onRefresh:p.refresh},{default:a(()=>[o(q,{class:h({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:a(()=>[o(w,null,{default:a(()=>[o(c,{onClick:t[0]||(t[0]=l=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),o(v,{class:"text-weight-bold"},{default:a(()=>[f(i(e.$t("Address")),1)]),_:1})]),_:1}),o(k)]),_:1},8,["class"]),o(S,{class:h({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:a(()=>[s.loading?(u(),m(Q,{key:0,showing:!0,color:"primary",size:"md","label-class":"dark",class:"transparent"})):(u(),m(_,{key:1,onSubmit:p.onSubmit},{default:a(()=>[d("div",z,[o(n,{outlined:"",modelValue:s.address,"onUpdate:modelValue":t[1]||(t[1]=l=>s.address=l),label:e.$t("Address"),"stack-label":"",color:"grey-5","lazy-rules":"",rules:[l=>l&&l.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),d("div",A,[o(n,{outlined:"",modelValue:s.latitude,"onUpdate:modelValue":t[2]||(t[2]=l=>s.latitude=l),label:e.$t("Latitude"),"stack-label":"",color:"grey-5","lazy-rules":"",rules:[l=>l&&l.length>0||this.$t("This field is required")],class:"col q-mr-sm"},null,8,["modelValue","label","rules"]),o(n,{outlined:"",modelValue:s.lontitude,"onUpdate:modelValue":t[3]||(t[3]=l=>s.lontitude=l),label:e.$t("Lontitude"),"stack-label":"",color:"grey-5","lazy-rules":"",rules:[l=>l&&l.length>0||this.$t("This field is required")],class:"col"},null,8,["modelValue","label","rules"])]),d("p",I,i(e.$t("Get your address geolocation via service like"))+" https://www.maps.ie/coordinates.html"+i(e.$t("or"))+" https://www.latlong.net/, "+i(e.$t("entering invalid coordinates will make your store not available for ordering")),1),o(c,{flat:"",color:"blue","no-caps":"",size:"sm",class:"q-pa-none q-mt-none",href:"https://www.maps.ie/coordinates.html",target:"_blank"},{default:a(()=>[f(i(e.$t("Click here")),1)]),_:1}),d("div",B,i(e.$t("Radius distance covered")),1),o(n,{outlined:"",modelValue:s.delivery_distance_covered,"onUpdate:modelValue":t[4]||(t[4]=l=>s.delivery_distance_covered=l),label:e.$t("Delivery Distance Covered"),"stack-label":"",color:"grey-5","lazy-rules":"",autogrow:""},null,8,["modelValue","label"]),o(V,{outlined:"",modelValue:s.distance_unit,"onUpdate:modelValue":t[5]||(t[5]=l=>s.distance_unit=l),options:g.DataStore.unit,label:e.$t("Distance Unit"),color:"grey-5","stack-label":"","map-options":"","emit-value":""},null,8,["modelValue","options","label"])]),o($,{class:h(["q-pl-md q-pr-md q-pb-xs",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:a(()=>[o(c,{type:"submit",color:"primary","text-color":"white",label:e.$t("Save"),unelevated:"",class:"full-width radius8",size:"lg","no-caps":"",loading:s.loading2},null,8,["label","loading"])]),_:1},8,["class"])]),_:1},8,["onSubmit"]))]),_:1},8,["class"])]),_:1},8,["onRefresh"])}var te=b(T,[["render",U]]);export{te as default};
