import{_ as m,X as t,q as p,Z as f,f as s,v as r,$ as i,F as w,a4 as n,a0 as h,a1 as g,a2 as c,ae as b,al as d}from"./index.57d98e6b.js";import{Q as y}from"./QToolbarTitle.f2460359.js";import{Q as $}from"./QToolbar.5785cd51.js";import{Q as k}from"./QHeader.8d398719.js";import{Q as _}from"./QFooter.9a53d96e.js";import{Q as q}from"./QForm.4d239df2.js";import{Q}from"./QPage.76c085e2.js";import"./QResizeObserver.1c6d7ccc.js";const V={data(){return{field_type:"password",old_password:"",new_password:"",confirm_password:""}},computed:{FieldIcon(){return this.field_type==="password"?"eva-eye-outline":"eva-eye-off-outline"}},methods:{onSubmit(){t.showLoadingBox("",this.$q),t.fetchDataByToken("changepassword",{old_password:this.old_password,new_password:this.new_password,confirm_password:this.confirm_password}).then(e=>{t.notify("green-5",e.msg,"check_circle",this.$q),this.$router.replace({path:"/home/settings"})}).catch(e=>{t.notify("dark",e,"error_outline",this.$q)}).then(e=>{t.hideLoadingBox(this.$q)})}}},T={class:"text-center fit"};function B(e,a,C,S,l,u){return p(),f(w,null,[s(k,{class:i({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:r(()=>[s($,null,{default:r(()=>[s(n,{onClick:a[0]||(a[0]=o=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),s(y,{class:"text-weight-bold"},{default:r(()=>[h(g(e.$t("Change password")),1)]),_:1})]),_:1}),s(c)]),_:1},8,["class"]),s(Q,{class:"q-pa-md"},{default:r(()=>[b("div",T,[s(q,{onSubmit:u.onSubmit},{default:r(()=>[s(d,{modelValue:l.old_password,"onUpdate:modelValue":a[1]||(a[1]=o=>l.old_password=o),label:e.$t("Old password"),outlined:"",color:"grey-5","lazy-rules":"",rules:[o=>o&&o.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),s(d,{modelValue:l.new_password,"onUpdate:modelValue":a[2]||(a[2]=o=>l.new_password=o),label:e.$t("New password"),outlined:"",color:"grey-5","lazy-rules":"",rules:[o=>o&&o.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),s(d,{modelValue:l.confirm_password,"onUpdate:modelValue":a[3]||(a[3]=o=>l.confirm_password=o),label:e.$t("Confirm password"),outlined:"",color:"grey-5","lazy-rules":"",rules:[o=>o&&o.length>0||this.$t("This field is required")]},null,8,["modelValue","label","rules"]),s(_,{class:i(["q-pa-md",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:r(()=>[s(n,{type:"submit",color:"primary","text-color":"white",label:e.$t("Update"),unelevated:"",class:"full-width",size:"lg","no-caps":"",loading:e.loading},null,8,["label","loading"])]),_:1},8,["class"])]),_:1},8,["onSubmit"])])]),_:1})],64)}var L=m(V,[["render",B]]);export{L as default};
