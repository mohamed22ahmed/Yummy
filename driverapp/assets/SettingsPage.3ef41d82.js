import{_ as x,u as D,ag as _,X as v,c$ as $,q as i,t as n,v as t,$ as w,ae as p,a1 as d,f as a,a5 as s,aa as c,a7 as l,a8 as u,a0 as g,a4 as k,aj as h,ai as q,Z as V,a3 as Q,F as z,a6 as f}from"./index.57d98e6b.js";import{Q as S}from"./QList.9b1deb90.js";import{Q as T}from"./QSpace.6257f203.js";import{Q as B}from"./QPage.76c085e2.js";import{K as A}from"./index.26b4a388.js";const N={data(){return{data:[],dark_mode:!1,enabled_notifications:!1,rtl:!1,is_awake_supported:!1}},setup(){return{Activity:D()}},created(){this.Activity.setTitle(this.$t("Settings")),this.dark_mode=this.Activity.dark_mode,this.getProfile(),this.getKeepAwake()},watch:{dark_mode(e,o){this.$q.dark.set(e),this.Activity.dark_mode=e},rtl(e,o){this.Activity.rtl=e,this.$q.lang.set({rtl:e})}},methods:{getProfile(){this.data=_.getUser(),this.enabled_notifications=!!this.data.notification},setNotifications(e){if(this.$q.capacitor){let o=_.getUser();e?o&&this.subsribeDevice(o.driver_uuid):o&&this.unsubscribeToTopic(o.driver_uuid)}else v.showLoadingBox("",this.$q),this.loading=!0,v.fetchDataByToken("setNotifications",{enabled:e?1:0}).then(o=>{_.setUser(o.details.user_data)}).catch(o=>{v.notify("red-5",o,"error_outline",this.$q)}).then(o=>{v.hideLoadingBox(this.$q)})},setDarkmode(){_.setDarkmode(this.dark_mode)},subsribeDevice(e){$.subscribeTo({topic:e}).then(o=>{this.Activity.push_notifications=!0,this.Activity.push_off=!1}).catch(o=>{this.Activity.push_notifications=!1,v.notify("dark","Error subscribing topics"+JSON.stringify(o),"warning",this.$q)})},unsubscribeToTopic(e){$.unsubscribeFrom({topic:e}).then(()=>{this.Activity.push_notifications=!1,this.Activity.push_off=!0}).catch(o=>{})},async getKeepAwake(){const e=await A.isSupported();console.log(e),this.is_awake_supported=e.isSupported},async setAwake(e){console.log(e),this.is_awake_supported&&(e?await A.keepAwake():await A.allowSleep())}}},P={class:"full-width q-pl-md q-pr-md q-pt-sm q-pb-sm"},U={class:"text-h7 text-weight-bold"},L={class:"line-1"};function C(e,o,K,r,y,b){return i(),n(B,{class:w([{"bg-mydark text-white":e.$q.dark.mode,"bg-grey-1 text-dark":!e.$q.dark.mode},"row items-stretch content-start"])},{default:t(()=>[p("div",P,[p("div",U,d(e.$t("Hello"))+", "+d(y.data.first_name)+" "+d(y.data.last_name),1),p("div",L,d(e.$t("Account Settings")),1)]),p("div",{class:w(["full-width radius-top q-pt-md",{"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode}])},[a(S,null,{default:t(()=>[s((i(),n(c,{clickable:"",to:"/account/edit-profile"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-user-alt",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Manage Profile")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]),s((i(),n(c,{clickable:"",to:"/account/change-password"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-lock",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Change Password")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]),s((i(),n(c,{clickable:"",to:"/account/documents"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-id-card",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Documents")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]),y.data.employment_type=="contractor"?s((i(),n(c,{key:0,clickable:"",to:"/account/vehicle"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-car",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Vehicle")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]):h("",!0),s((i(),n(c,{clickable:"",to:"/account/bankinfo"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-university",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Bank information")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]),s((i(),n(c,{clickable:"",to:"/account/payments"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-credit-card",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Payment Options")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]),s((i(),n(c,{clickable:""},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-bell",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Push Notifications")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(q,{modelValue:r.Activity.push_notifications,"onUpdate:modelValue":[o[0]||(o[0]=m=>r.Activity.push_notifications=m),b.setNotifications],color:"primary",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})),[[f]]),y.is_awake_supported?s((i(),n(c,{key:1,clickable:""},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-bell",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Keep Awake")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(q,{modelValue:r.Activity.keep_awake,"onUpdate:modelValue":[o[1]||(o[1]=m=>r.Activity.keep_awake=m),b.setAwake],color:"primary",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})),[[f]]):h("",!0),s((i(),n(c,{clickable:""},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-adjust",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Dark Mode")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(q,{modelValue:y.dark_mode,"onUpdate:modelValue":[o[2]||(o[2]=m=>y.dark_mode=m),b.setDarkmode],color:"primary",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1})),[[f]]),r.Activity.settings_data.enabled_language?s((i(),n(c,{key:2,clickable:"",to:"/settings/language"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-globe",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Language")),1)]),_:1}),r.Activity.lang_data?(i(),n(l,{key:0,side:""},{default:t(()=>[(i(!0),V(z,null,Q(r.Activity.lang_data.data,m=>(i(),V(z,{key:m},[m.code==this.Activity.app_language?(i(),n(k,{key:0,"no-caps":"",label:m.title,unelevated:"","text-color":"dark","icon-right":r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["label","icon-right"])):h("",!0)],64))),128))]),_:1})):h("",!0)]),_:1})),[[f]]):h("",!0),r.Activity.settings_data.enabled_language?s((i(),n(c,{key:3,clickable:"",onClick:o[3]||(o[3]=m=>y.rtl=!y.rtl)},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"format_textdirection_l_to_r",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Direction")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{"no-caps":"",label:r.Activity.rtl?e.$t("LRT"):e.$t("RTL"),unelevated:"","text-color":"dark","icon-right":r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["label","icon-right"])]),_:1})]),_:1})),[[f]]):h("",!0),s((i(),n(c,{clickable:"",to:"/account/delete"},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-user-slash",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Delete Account")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]]),s((i(),n(c,{to:"/settings/legal",clickable:""},{default:t(()=>[a(l,{avatar:""},{default:t(()=>[a(u,{color:e.$q.dark.mode?"grey600":"orange-1","text-color":e.$q.dark.mode?"grey300":"orange",icon:"las la-balance-scale",size:"md"},null,8,["color","text-color"])]),_:1}),a(l,null,{default:t(()=>[g(d(e.$t("Legal")),1)]),_:1}),a(l,{side:""},{default:t(()=>[a(k,{round:"",unelevated:"","text-color":"dark",icon:r.Activity.rtl?"las la-angle-left":"las la-angle-right",dense:"",class:"text-grey-5 font13"},null,8,["icon"])]),_:1})]),_:1})),[[f]])]),_:1})],2),a(T,{class:"q-pa-sm"})]),_:1},8,["class"])}var E=x(N,[["render",C]]);export{E as default};
