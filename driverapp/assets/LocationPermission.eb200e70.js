import{Q as i}from"./QSpace.6257f203.js";import{_ as c,X as t,q as l,t as d,v as h,ae as o,f as a,a1 as r,a4 as n}from"./index.57d98e6b.js";import{Q as u}from"./QPage.76c085e2.js";import{A as p}from"./AppLocation.994227c2.js";const f={name:"LocationPermission",data(){return{redirect:""}},created(){this.redirect=t.empty(this.$route.query.page)?"/home":this.$route.query.page},methods:{skipLocation(){t.setSession("skip_location",1),this.$router.push("/home")},requestPermission(){this.$q.capacitor?(t.showLoadingBox("",this.$q),p.checkAccuracy().then(e=>{this.$router.push(this.redirect)}).catch(e=>{t.notify("red-5",e,"error_outline",this.$q)}).then(e=>{t.hideLoadingBox(this.$q)})):navigator.geolocation&&(t.showLoadingBox("",this.$q),navigator.geolocation.getCurrentPosition(e=>{console.debug(e),t.hideLoadingBox(this.$q),this.$router.push(this.redirect)},e=>{console.debug(e),t.notify("red-5",e,"error_outline",this.$q)}))}}},m={class:"text-center"},g={class:"text-h6 text-weight-bold"},$={class:"font13 text-grey"};function q(e,_,x,b,k,s){return l(),d(u,{padding:"",class:"flex flex-center"},{default:h(()=>[o("div",m,[a(i,{class:"q-pa-md"}),o("div",g,r(e.$t("Enabled Your Location")),1),o("div",$,r(e.$t("In order to continue we need your location enabled")),1),a(i,{class:"q-pa-sm"}),o("div",null,[a(n,{onClick:s.requestPermission,unelevated:"",color:"primary",label:e.$t("Enabled Your Location"),"no-caps":"",class:"text-weight-bold fit font17"},null,8,["onClick","label"])]),a(i,{class:"q-pa-xs"}),o("div",null,[a(n,{onClick:s.skipLocation,unelevated:"",flat:"",color:"primary",label:e.$t("Skip For Now"),"no-caps":"",class:"text-weight-bold fit font17"},null,8,["onClick","label"])])])]),_:1})}var B=c(f,[["render",q]]);export{B as default};
