import{_ as w,X as y,q as o,t as n,v as a,f as e,ae as c,a1 as d,a4 as _,a5 as m,a0 as u,$ as g,d0 as S,Z as Q,al as B,a6 as h,aa as f,a7 as i,ah as b,a3 as D,a9 as v,aj as I,F as z,d4 as L,ak as N,aP as x}from"./index.57d98e6b.js";import{Q as O,a as P}from"./QBar.3a2078ec.js";import{Q as V}from"./QSpace.6257f203.js";import{Q as p}from"./QItemLabel.534f2eb0.js";import{Q as U}from"./QList.9b1deb90.js";import{C as T}from"./ClosePopup.26d225cb.js";import"./position-engine.6e2e634f.js";import"./selection.b1db311e.js";const j={name:"OrderHelp",props:["list_type","title"],data(){return{loading:!1,dialog:!1,data:[],reason:"",reason_others:""}},created(){this.getList()},computed:{hasData(){return Object.keys(this.reason).length>0?!(this.reason=="others"&&y.empty(this.reason_others)):!1}},methods:{show(){this.dialog=!0,this.reason="",this.reason_others=""},hide(){this.dialog=!1,this.reason="",this.reason_others=""},getList(){y.fetchData(this.list_type,"").then(s=>{this.data=s.details}).catch(s=>{this.data=[]}).then(s=>{})},submit(){let s=this.reason=="others"?this.reason_others:this.reason;this.$emit("afterSubmit",s)}}},A={class:"col text-center"},F={class:"text-weight-bold"},H={key:0},R=u("Others");function $(s,r,C,E,l,k){return o(),n(x,{modelValue:l.dialog,"onUpdate:modelValue":r[4]||(r[4]=t=>l.dialog=t),maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},{default:a(()=>[e(N,null,{default:a(()=>[e(O,{class:"transparent q-pa-sm",style:{height:"auto"}},{default:a(()=>[c("div",A,[c("div",F,d(C.title),1)]),l.reason=="others"?(o(),n(_,{key:0,dense:"",flat:"",icon:"las la-undo",onClick:r[0]||(r[0]=t=>l.reason="")})):m((o(),n(_,{key:1,dense:"",flat:"",icon:"close"},{default:a(()=>[e(P,{class:"bg-white text-primary"},{default:a(()=>[u(d(s.$t("Close")),1)]),_:1})]),_:1})),[[T]])]),_:1}),e(V,{class:g(["q-pa-xs",{"":s.$q.dark.mode,"bg-grey-1":!s.$q.dark.mode}])},null,8,["class"]),e(S,null,{default:a(()=>[l.reason=="others"?(o(),Q("div",H,[c("p",null,d(s.$t("Please specify the reason")),1),e(B,{modelValue:l.reason_others,"onUpdate:modelValue":r[1]||(r[1]=t=>l.reason_others=t),autogrow:"",dense:"","stack-label":"","lazy-rules":"",rules:[t=>t&&t.length>0||this.$t("This field is required")]},null,8,["modelValue","rules"])])):(o(),n(U,{key:1,separator:"",class:"q-pa-none q-ma-none"},{default:a(()=>[e(p,{header:"",class:"text-grey font12"},{default:a(()=>[u(d(s.$t("Need help"))+"?",1)]),_:1}),m((o(),n(f,{clickable:""},{default:a(()=>[e(i,{avatar:""},{default:a(()=>[e(b,{name:"las la-phone",size:"sm",color:"blue"})]),_:1}),e(i,{avatar:""},{default:a(()=>[u(d(s.$t("Call Support")),1)]),_:1})]),_:1})),[[h]]),m((o(),n(f,{clickable:""},{default:a(()=>[e(i,{avatar:""},{default:a(()=>[e(b,{name:"las la-comment",size:"sm",color:"cyan"})]),_:1}),e(i,{avatar:""},{default:a(()=>[u(d(s.$t("Chat Support")),1)]),_:1})]),_:1})),[[h]]),e(p,{header:"",class:"text-grey font12"},{default:a(()=>[u(d(s.$t("What is the issue"))+"?",1)]),_:1}),(o(!0),Q(z,null,D(l.data,t=>m((o(),n(f,{key:t,tag:"label"},{default:a(()=>[e(i,{avatar:"",class:"hidden"},{default:a(()=>[e(v,{modelValue:l.reason,"onUpdate:modelValue":r[2]||(r[2]=q=>l.reason=q),val:t,color:"primary",dense:""},null,8,["modelValue","val"])]),_:2},1024),e(i,null,{default:a(()=>[e(p,{class:g({"text-green":l.reason==t})},{default:a(()=>[u(d(t),1)]),_:2},1032,["class"])]),_:2},1024),l.reason==t?(o(),n(i,{key:0,side:""},{default:a(()=>[e(b,{name:"check",color:"green"})]),_:1})):I("",!0)]),_:2},1024)),[[h]])),128)),m((o(),n(f,{tag:"label"},{default:a(()=>[e(i,{avatar:"",class:"hidden"},{default:a(()=>[e(v,{modelValue:l.reason,"onUpdate:modelValue":r[3]||(r[3]=t=>l.reason=t),val:"others",color:"primary",dense:""},null,8,["modelValue"])]),_:1}),e(i,null,{default:a(()=>[e(p,null,{default:a(()=>[R]),_:1})]),_:1})]),_:1})),[[h]])]),_:1})),e(V,{class:"q-pa-lg"})]),_:1}),e(L,{class:g(["fixed-bottom",{"bg-mydark ":s.$q.dark.mode,"bg-white ":!s.$q.dark.mode}])},{default:a(()=>[e(_,{label:s.$t("Submit"),color:"primary",unelevated:"",class:"fit font17 text-weight-bold","no-caps":"",disable:!k.hasData,onClick:k.submit},null,8,["label","disable","onClick"])]),_:1},8,["class"])]),_:1})]),_:1},8,["modelValue"])}var ee=w(j,[["render",$]]);export{ee as default};
