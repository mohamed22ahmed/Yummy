import{_ as d,ar as u,au as c,p as l,q as s,Z as _,f as a,v as i,t as m,U as f,aj as p,a4 as h,F as v}from"./index.57d98e6b.js";import{Q as g}from"./QBadge.d629348d.js";const R={name:"NotiButton",components:{Realtime:u(()=>c(()=>import("./RealTime.9e57e241.js"),["assets/RealTime.9e57e241.js","assets/index.4f152a18.js","assets/index.57d98e6b.js","assets/index.945c03c3.css"]))},data(){return{data:[]}},computed:{hasData(){return Object.keys(this.data).length>0}},methods:{afterReceive(o){console.debug("afterReceivex"),this.data=o,console.debug(this.data);const t=this.data.notification_type;if(t=="assign_order"){const e=JSON.parse(this.data.message);console.debug(e.order_uuid),e.order_uuid&&this.$router.push({path:"/order/new",query:{order_uuid:e.order_uuid}})}else t=="order_update"&&this.data.meta_data&&this.data.meta_data.order_uuid&&this.data.meta_data.status=="new"&&this.$router.push({path:"/order/new",query:{order_uuid:this.data.meta_data.order_uuid}})}}};function y(o,t,e,B,b,r){const n=l("Realtime");return s(),_(v,null,[a(h,{to:"/account/notifications",flat:"",round:"",dense:"",icon:"las la-bell",color:"amber-5"},{default:i(()=>[r.hasData?(s(),m(f,{key:0,appear:"","enter-active-class":"animated zoomIn","leave-active-class":"animated zoomOut"},{default:i(()=>[a(g,{floating:"",color:"red",rounded:"",style:{top:"2px"}})]),_:1})):p("",!0)]),_:1}),a(n,{ref:"realtime",getevent:"notifications",onAfterReceive:r.afterReceive},null,8,["onAfterReceive"])],64)}var k=d(R,[["render",y]]);export{k as default};
