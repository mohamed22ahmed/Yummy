import{_ as V,X as p,q as r,t as n,v as e,f as a,ae as u,a1 as d,a4 as m,a5 as f,d0 as v,Z as _,al as C,a3 as w,a6 as g,aa as Q,a7 as i,a9 as b,$ as x,a0 as h,ah as D,aj as B,F as I,d4 as L,ak as S,aP as R}from"./index.57d98e6b.js";import{Q as q,a as z}from"./QBar.3a2078ec.js";import{Q as N}from"./QSpace.6257f203.js";import{Q as y}from"./QItemLabel.534f2eb0.js";import{Q as P}from"./QList.9b1deb90.js";import{C as T}from"./ClosePopup.26d225cb.js";import"./position-engine.6e2e634f.js";import"./selection.b1db311e.js";const U={name:"DeclineReason",data(){return{loading:!1,dialog:!1,data:[],reason:"",reason_others:""}},created(){this.getList()},computed:{hasData(){return Object.keys(this.reason).length>0?!(this.reason=="others"&&p.empty(this.reason_others)):!1}},methods:{getList(){p.fetchData("declineReasonList","").then(l=>{this.data=l.details}).catch(l=>{this.data=[]}).then(l=>{})},submit(){let l=this.reason=="others"?this.reason_others:this.reason;this.$emit("afterSubmit",l)}}},j={class:"col text-center"},A={class:"text-weight-bold"},F=h("Close"),O={key:0};function E(l,o,X,Z,t,c){return r(),n(R,{modelValue:t.dialog,"onUpdate:modelValue":o[4]||(o[4]=s=>t.dialog=s),maximized:!0,"transition-show":"slide-up","transition-hide":"slide-down"},{default:e(()=>[a(S,null,{default:e(()=>[a(q,{class:"transparent q-pa-sm",style:{height:"auto"}},{default:e(()=>[u("div",j,[u("div",A,d(l.$t("Tell us why")),1)]),t.reason=="others"?(r(),n(m,{key:0,dense:"",flat:"",icon:"las la-undo",onClick:o[0]||(o[0]=s=>t.reason="")})):f((r(),n(m,{key:1,dense:"",flat:"",icon:"close"},{default:e(()=>[a(z,{class:"bg-white text-primary"},{default:e(()=>[F]),_:1})]),_:1})),[[T]])]),_:1}),a(N,{class:"q-pa-xs bg-grey-1"}),a(v,null,{default:e(()=>[t.reason=="others"?(r(),_("div",O,[u("p",null,d(l.$t("Please specify the reason")),1),a(C,{modelValue:t.reason_others,"onUpdate:modelValue":o[1]||(o[1]=s=>t.reason_others=s),autogrow:"",dense:"","stack-label":"","lazy-rules":"",rules:[s=>s&&s.length>0||this.$t("This field is required")]},null,8,["modelValue","rules"])])):(r(),n(P,{key:1,separator:""},{default:e(()=>[(r(!0),_(I,null,w(t.data,s=>f((r(),n(Q,{key:s,tag:"label"},{default:e(()=>[a(i,{avatar:"",class:"hidden"},{default:e(()=>[a(b,{modelValue:t.reason,"onUpdate:modelValue":o[2]||(o[2]=k=>t.reason=k),val:s,color:"primary",dense:""},null,8,["modelValue","val"])]),_:2},1024),a(i,null,{default:e(()=>[a(y,{class:x({"text-green":t.reason==s})},{default:e(()=>[h(d(s),1)]),_:2},1032,["class"])]),_:2},1024),t.reason==s?(r(),n(i,{key:0,side:""},{default:e(()=>[a(D,{name:"check",color:"green"})]),_:1})):B("",!0)]),_:2},1024)),[[g]])),128)),f((r(),n(Q,{tag:"label"},{default:e(()=>[a(i,{avatar:"",class:"hidden"},{default:e(()=>[a(b,{modelValue:t.reason,"onUpdate:modelValue":o[3]||(o[3]=s=>t.reason=s),val:"others",color:"primary",dense:""},null,8,["modelValue"])]),_:1}),a(i,null,{default:e(()=>[a(y,null,{default:e(()=>[h(d(l.$t("Others")),1)]),_:1})]),_:1})]),_:1})),[[g]])]),_:1}))]),_:1}),a(L,{class:"fixed-bottom"},{default:e(()=>[a(m,{label:l.$t("Submit"),color:"primary",unelevated:"",class:"fit font17 text-weight-bold","no-caps":"",disable:!c.hasData,onClick:c.submit,size:"lg"},null,8,["label","disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var ee=V(U,[["render",E]]);export{ee as default};
