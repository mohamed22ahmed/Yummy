import{_ as p,ar as g,X as a,p as _,q as n,Z as l,f as t,v as s,$ as m,F as f,a4 as h,a0 as y,a1 as d,a2 as k,V as q,ae as r,au as v}from"./index.57d98e6b.js";import{Q as $}from"./QToolbarTitle.f2460359.js";import{Q as w}from"./QToolbar.5785cd51.js";import{Q}from"./QHeader.8d398719.js";import{Q as b}from"./QSpace.6257f203.js";import{Q as V}from"./QFooter.9a53d96e.js";import{Q as C}from"./QPage.76c085e2.js";import"./QResizeObserver.1c6d7ccc.js";const B={data(){return{loading:!1,sent_message:""}},components:{StepsVerification:g(()=>v(()=>import("./StepsVerification.41e88e07.js"),["assets/StepsVerification.41e88e07.js","assets/index.57d98e6b.js","assets/index.945c03c3.css","assets/QForm.4d239df2.js","assets/QInnerLoading.a7196db6.js","assets/ClosePopup.26d225cb.js"]))},created(){this.requestCode()},methods:{requestCode(){this.loading=!0,a.fetchDataByToken("requestcode2",{}).then(e=>{this.sent_message=e.msg}).catch(e=>{a.notify("red-5",e,"error_outline",this.$q)}).then(e=>{this.loading=!1,a.hideLoadingBox(this.$q)})},confirmDeletion(){this.$refs.steps_verify.show_modal=!0},afterVerifycode(e){a.showLoadingBox("",this.$q),a.fetchDataByTokenPost("deleteaccount","code="+e).then(o=>{this.sent_message=o.msg,this.$refs.steps_verify.show_modal=!1,this.$router.replace("/account/deletety")}).catch(o=>{a.notify("red-5",o,"error_outline",this.$q)}).then(o=>{a.hideLoadingBox(this.$q)})}}},D={key:0,class:"flex flex-center full-width q-pa-xl",style:{"min-height":"calc(50vh)"}},S={class:"col-12"},T={class:"q-pa-md"},x={class:"text-weight-bold"};function A(e,o,P,L,i,c){const u=_("StepsVerification");return n(),l(f,null,[t(Q,{class:m({"bg-mydark text-white":e.$q.dark.mode,"bg-white text-dark":!e.$q.dark.mode})},{default:s(()=>[t(w,null,{default:s(()=>[t(h,{onClick:o[0]||(o[0]=z=>e.$router.back()),flat:"",round:"",dense:"",icon:"las la-angle-left",color:e.$q.dark.mode?"white":"dark"},null,8,["color"]),t($,{class:"text-weight-bold"},{default:s(()=>[y(d(e.$t("Delete account")),1)]),_:1})]),_:1}),t(k)]),_:1},8,["class"]),t(C,{class:"row items-stretch"},{default:s(()=>[i.loading?(n(),l("div",D,[t(q,{color:"primary",size:"2em"})])):(n(),l(f,{key:1},[r("div",S,[r("div",T,[r("div",x,d(e.$t("You are requesting to have your account deleted and personal information removed"))+". ",1),t(b,{class:"q-pa-sm"}),r("p",null,d(e.$t("You will permanently lose all your orders, reviews,favorites and profile information, there is no turning back"))+". ",1)])]),t(V,{class:m(["q-pa-md",{"bg-mydark ":e.$q.dark.mode,"bg-white ":!e.$q.dark.mode}])},{default:s(()=>[t(h,{type:"submit",color:"primary","text-color":"white",label:e.$t("Confirm Deletion"),unelevated:"",class:"full-width",size:"lg","no-caps":"",loading:i.loading,onClick:c.confirmDeletion},null,8,["label","loading","onClick"])]),_:1},8,["class"])],64)),t(u,{ref:"steps_verify",sent_message:i.sent_message,onAfterVerifycode:c.afterVerifycode},null,8,["sent_message","onAfterVerifycode"])]),_:1})],64)}var X=p(B,[["render",A]]);export{X as default};
