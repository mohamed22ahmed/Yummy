import{cc as k,a5 as _,q as E,Z as V,_ as O,u as D,a1 as R}from"./index.57d98e6b.js";/**
 * Vue Number Format 3.2.0
 * (c) 2021-2022 Dipak Sarkar <hello@dipaksarkar.in> (https://dipaksarkar.in/)
 * @license MIT
 */var h={prefix:"",suffix:"",separator:",",decimal:".",precision:2,minimumFractionDigits:!1,prefill:!0,reverseFill:!1,min:!1,max:!1,nullValue:""};function y(e=h){this.options=Object.assign(h,e),this.input="",this.number="",this.isClean=!0;const{prefix:t,suffix:s,decimal:a}=h;this.preSurRegExp=new RegExp(`${t}|${s}`,"g"),this.numberRegExp=new RegExp(`[^0-9\\${a}]+`,"gi"),this.cleanRegExp=new RegExp("[^0-9]+","gi"),this.negativeRegExp=new RegExp("[^0-9\\-]+","gi"),this.isNull=(n=this.input)=>this.isClean?!this.numberOnly(n,this.cleanRegExp):!this.numberOnly(n,this.negativeRegExp),this.clean=(n=!1)=>(this.isClean=n,this),this.sign=()=>this.isClean?this.input.toString().indexOf("-")>=0&&this.realNumber()>0?"-":"":this.input.toString().indexOf("-")>=0?"-":"";function u(n,l,r){return Math.max(n,Math.min(l,r))}function i(n){return u(0,n,20)}function p(n,l){var r=Math.pow(10,l),m=parseFloat(n)/r||0;return m.toFixed(i(l))}this.toNumber=n=>Number(n),this.numberOnly=(n,l)=>n==null?void 0:n.toString().replace(l,""),this.isNegative=this.sign()==="-",this.numbers=()=>{if(this.options.reverseFill)this.number=p(this.numberOnly(this.input,/\D+/g),this.options.precision).replace(".",this.options.decimal);else if(typeof this.input=="number")this.number=this.parts(this.input.toString().replace("-",""),".").join(this.options.decimal);else{const n=this.input.replace(this.preSurRegExp,"");this.number=this.numberOnly(n,this.numberRegExp),this.number=this.parts(this.number).join(this.options.decimal)}return this.number},this.realNumber=()=>this.numbers().toString().replace(this.options.decimal,"."),this.parts=(n="",l=this.options.decimal)=>{var r=n.toString().split(l);if(r.length>1&&(r[0]=this.toNumber(r[0])||0,r[1]=r.slice(1,r.length).join(""),r=r.slice(0,2)),this.isClean){const m=this.toNumber(r.join(".")).toFixed(this.options.precision),o=this.toNumber(m),x=o.toFixed(this.options.minimumFractionDigits);this.options.minimumFractionDigits&&this.options.minimumFractionDigits>=0&&o.toString().length<x.length?r=x.toString().split("."):r=o.toString().split(".")}return r.slice(0,2)},this.addSeparator=()=>{var n=this.numbers().split(this.options.decimal);return n[0]=n[0].toString().replace(/(\d)(?=(?:\d{3})+\b)/gm,`$1${this.options.separator}`),n.join(this.options.decimal)},this.format=(n="")=>(this.input=n,this.isNull()&&!this.options.reverseFill?this.options.nullValue:this.sign()+this.options.prefix+this.addSeparator()+this.options.suffix),this.unformat=(n="")=>(this.input=n,this.isNull()&&!this.options.reverseFill?this.options.nullValue:this.sign()+this.realNumber())}const f="__input-facade__";function N(e){return JSON.parse(JSON.stringify(e))}function F(){return new CustomEvent("input",{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function $(){return new CustomEvent("change",{bubbles:!0,cancelable:!0,detail:{facade:!0}})}function b(e){const t=e instanceof HTMLInputElement?e:e.querySelector("input");if(!t)throw new Error("facade directive requires an input element");return t}function w(e,t){const s=()=>{e.setSelectionRange(t,t)};s(),setTimeout(s(),1)}function g(e,t,{emit:s=!0,force:a=!1,clean:u=!1}={}){var l;let{config:i,oldValue:p}=e[f],n=((l=t==null?void 0:t.props)==null?void 0:l.value)||e.value;if(a||p!==n){const r=new y(i).clean(u&&!i.reverseFill);let m=r.format(n),o=r.clean(!i.reverseFill).unformat(n);return u&&(Number(i.max)&&o>Number(i.max)?(m=r.format(i.max),o=r.unformat(i.max)):Number(i.min)&&o<Number(i.min)&&(m=r.format(i.min),o=r.unformat(i.min))),e[f].masked=m,e.unmaskedValue=o,e.value!==m&&(e.value=m),s&&e.dispatchEvent(F())}}function C(e){const{target:t,detail:s}=e;if(s!=null&&s.facade)return!1;e.stopPropagation();let a=t.value.length-t.selectionEnd;const{oldValue:u,config:i,masked:p}=t[f];g(t,null,{emit:!1}),a=Math.max(a,i.suffix.length),a=t.value.length-a,a=Math.max(a,i.prefix.length),w(t,a),u!==t.value&&(t[f].oldValue=p,t.dispatchEvent(F()))}function j(e){const{target:t,detail:s}=e;if(s!=null&&s.facade)return!1;const{oldValue:a,masked:u}=t[f];g(t,null,{force:!0,emit:!0,clean:!0}),a!==t.value&&(t[f].oldValue=u,t.dispatchEvent($()))}const d=f;var S={beforeMount:(e,{value:t,modifiers:s},a)=>{e=b(e);const u=Object.assign({},N(h),t,s);e[d]={config:u},g(e,a,{force:u.prefill,clean:!0})},mounted:e=>{e=b(e);const t=e[d],{config:s}=t,a=e.parentElement||e,u=i=>{i.target===e&&C(i)};a.addEventListener("input",u,!0),e.onblur=i=>j(i),e.onkeydown=i=>{const{target:p}=i,n=new RegExp(`${s.prefix}|${s.suffix}`,"g");let l=p.value.replace(n,"");if(([110,190].includes(i.keyCode)||i.key===s.decimal)&&l.includes(s.decimal))i.preventDefault();else if([8].includes(i.keyCode)){const r=e.value.slice(e.selectionEnd-1,e.selectionEnd),m=e.value.slice(e.selectionEnd-2,e.selectionEnd);if(r===s.separator){i.preventDefault();let o=e.value.length-e.selectionEnd;e.value=e.value.replace(m,""),o=Math.max(o,s.suffix.length),o=e.value.length-o,o=Math.max(o,s.prefix.length),w(e,o),e.dispatchEvent(new Event("input"))}else[s.prefix,"-"].includes(r)&&(i.preventDefault(),e.value="",e.dispatchEvent(new Event("input")))}},t.cleanup=()=>a.removeEventListener("input",u,!0)},updated:(e,{value:t,oldValue:s,modifiers:a},u)=>{e=b(e);const{config:i}=e[d];e[d].config=Object.assign({},i,t,a),t!==s?g(e,u,{force:!0,clean:!0}):g(e,u)},unmounted:e=>{b(e)[d].cleanup()}};const c=N(h);var v={name:"Number",props:{modelValue:{required:!0},nullValue:{type:[Number,String],default:()=>c.nullValue},masked:{type:Boolean,default:!1},reverseFill:{type:Boolean,default:c.reverseFill},prefill:{type:Boolean,default:c.prefill},precision:{type:Number,default:()=>c.precision},minimumFractionDigits:{type:[Number,Boolean],default:()=>c.minimumFractionDigits},decimal:{type:String,default:()=>c.decimal},min:{type:[Number,Boolean],default:()=>c.min},max:{type:[Number,Boolean],default:()=>c.max},separator:{type:String,default:()=>c.separator},prefix:{type:String,default:()=>c.prefix},suffix:{type:String,default:()=>c.suffix}},directives:{number:S},emits:["update:model-value","input:model-value"],data(){return{maskedValue:this.modelValue,unmaskedValue:null}},methods:{input({target:e}){this.maskedValue=e.value,this.unmaskedValue=e.unmaskedValue,this.$emit("input:model-value",this.emittedValue)},change(){this.$emit("update:model-value",this.emittedValue)}},computed:{emittedValue(){return this.masked?this.maskedValue:this.unmaskedValue},config(){const e={};return Object.keys(this.$props).filter(t=>t!=="modelValue").forEach(t=>{e[t]=this.$props[t]}),e}},watch:{modelValue(e){this.unmaskedValue!==e&&(this.maskedValue=e)}}};const M=["value"];function B(e,t,s,a,u,i){const p=k("number");return _((E(),V("input",{type:"text",autocomplete:"off",value:u.maskedValue,onChange:t[0]||(t[0]=(...n)=>i.change&&i.change(...n)),onInput:t[1]||(t[1]=(...n)=>i.input&&i.input(...n)),class:"v-number"},null,40,M)),[[p,i.config]])}v.render=B;v.__file="src/component.vue";const I={install(e,t={}){t&&Object.assign(h,t),e.directive("number",S),e.component("number",v)}};typeof window!="undefined"&&window.Vue&&window.Vue.use(I);const q={name:"NumberFormat",props:["amount"],data(){return{total:0,number:void 0}},created(){this.number=new y(this.Activity.money_config),this.total=this.number.format(this.amount)},watch:{amount(e,t){this.total=this.number.format(e)}},setup(){return{Activity:D()}}};function A(e,t,s,a,u,i){return E(),V("span",null,R(u.total),1)}var L=O(q,[["render",A]]);export{L as default};
